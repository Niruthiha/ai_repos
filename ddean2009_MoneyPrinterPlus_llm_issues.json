[
  {
    "issue_number": 126,
    "title": "生成视频出错",
    "author": "DemaCya",
    "state": "open",
    "created_at": "2025-06-06T09:30:46Z",
    "updated_at": "2025-06-18T03:09:53Z",
    "labels": [],
    "body": "CalledProcessError: Command '['ffmpeg', '-i', 'E:\\\\MoneyPrinter\\\\MoneyPrinterPlus-windows\\\\MoneyPrinterPlus-windows\\\\work\\\\17492020788060.wav', '-af', 'apad=pad_dur=1', 'E:\\\\MoneyPrinter\\\\MoneyPrinterPlus-windows\\\\MoneyPrinterPlus-windows\\\\work\\\\17492020788060.temp.wav']' returned non-zero exit status 3199971767.\ncmd的日志如下：\nmain_generate_ai_video_for_mix begin:\nmain_generate_video_dubbing_for_mix begin\nuse remote audio\nselect video scene 1\nselect video scene 2\nselect video scene 3\nE:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\work\\17492020788060.wav\nSpeech synthesis canceled: CancellationReason.Error\nError details: Connection failed (no connection to the remote host). Internal error: 1. Error details: Failed with error: WS_OPEN_ERROR_UNDERLYING_IO_OPEN_FAILED\nwss://SERVICE_REGION.tts.speech.microsoft.com/cognitiveservices/websocket/v1\nX-ConnectionId: 07561bf47ee044688f150a1118c0162d USP state: Sending. Received audio size: 0 bytes.\nE:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\work\\17492020788060.wav\nSpeech synthesis canceled: CancellationReason.Error\nError details: Connection failed (no connection to the remote host). Internal error: 1. Error details: Failed with error: WS_OPEN_ERROR_UNDERLYING_IO_OPEN_FAILED\nwss://SERVICE_REGION.tts.speech.microsoft.com/cognitiveservices/websocket/v1\nX-ConnectionId: 823852f6d9434863b7c6d9e5de419c61 USP state: Sending. Received audio size: 0 bytes.\n2025-06-06 17:27:50.388 Uncaught app exception\nTraceback (most recent call last):\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\n    self._session_state.on_script_will_rerun(\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\n    self._state.on_script_will_rerun(latest_widget_states)\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\n    self._call_callbacks()\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\n    self._new_widget_state.call_callback(wid)\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\n    callback(*args, **kwargs)\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\pages\\02_mix_video.py\", line 95, in generate_video_for_mix\n    main_generate_ai_video_for_mix(video_generator)\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\main.py\", line 342, in main_generate_ai_video_for_mix\n    main_generate_video_dubbing_for_mix()\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\main.py\", line 187, in main_generate_video_dubbing_for_mix\n    audio_output_file_list, video_dir_list = get_audio_and_video_list(audio_service, audio_rate)\n                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\services\\hunjian\\hunjian_service.py\", line 87, in get_audio_and_video_list\n    extent_audio(audio_output_file, 1)\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\tools\\utils.py\", line 162, in extent_audio\n    subprocess.run(command, capture_output=True, check=True)\n  File \"E:\\MoneyPrinter\\MoneyPrinterPlus-windows\\MoneyPrinterPlus-windows\\python311\\Lib\\subprocess.py\", line 571, in run    raise CalledProcessError(retcode, process.args,\nsubprocess.CalledProcessError: Command '['ffmpeg', '-i', 'E:\\\\MoneyPrinter\\\\MoneyPrinterPlus-windows\\\\MoneyPrinterPlus-windows\\\\work\\\\17492020788060.wav', '-af', 'apad=pad_dur=1', 'E:\\\\MoneyPrinter\\\\MoneyPrinterPlus-windows\\\\MoneyPrinterPlus-windows\\\\work\\\\17492020788060.temp.wav']' returned non-zero exit status 3199971767.\n",
    "comments": [
      {
        "user": "yjdsky",
        "body": "一样的错误，解决了吗？"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 127,
    "title": "点击上传失败  win11 64位 环境 模拟操作网页 不成功",
    "author": "henrylaobai",
    "state": "open",
    "created_at": "2025-06-10T09:19:44Z",
    "updated_at": "2025-06-10T09:19:44Z",
    "labels": [],
    "body": "Chrome 已是最新版本  系统环境 win11 64位\n版本 137.0.7151.69（正式版本） （64 位） \n驱动下载 \nchromedriver | win64 | https://storage.googleapis.com/chrome-for-testing-public/137.0.7151.68/win64/chromedriver-win64.zip\n\n浏览器 已经开启调试模式 \"C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\" --remote-debugging-port=9222 \n\n\n报错信息: \nException in thread Thread-19 (start_all_pages):\nTraceback (most recent call last):\n  File \"D:\\Program Files (x86)\\python3.10\\lib\\threading.py\", line 1009, in _bootstrap_inner\n    self.run()\n  File \"D:\\Program Files (x86)\\python3.10\\lib\\threading.py\", line 946, in run\n    self._target(*self._args, **self._kwargs)\n  File \"E:\\money\\MoneyPrinterPlus\\services\\publisher\\open_test.py\", line 42, in start_all_pages\n    driver = init_driver()\n  File \"E:\\money\\MoneyPrinterPlus\\services\\publisher\\publisher_common.py\", line 46, in init_driver\n    driver = webdriver.Chrome(service=service, options=options)\n  File \"E:\\money\\MoneyPrinterPlus\\venv\\lib\\site-packages\\selenium\\webdriver\\chrome\\webdriver.py\", line 45, in __init__\n    super().__init__(\n  File \"E:\\money\\MoneyPrinterPlus\\venv\\lib\\site-packages\\selenium\\webdriver\\chromium\\webdriver.py\", line 66, in __init__\n    super().__init__(command_executor=executor, options=options)\n  File \"E:\\money\\MoneyPrinterPlus\\venv\\lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\", line 208, in __init__\n    self.start_session(capabilities)\n  File \"E:\\money\\MoneyPrinterPlus\\venv\\lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\", line 292, in start_session\n    response = self.execute(Command.NEW_SESSION, caps)[\"value\"]\n  File \"E:\\money\\MoneyPrinterPlus\\venv\\lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\", line 347, in execute\n    self.error_handler.check_response(response)\n  File \"E:\\money\\MoneyPrinterPlus\\venv\\lib\\site-packages\\selenium\\webdriver\\remote\\errorhandler.py\", line 229, in check_response\n    raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.SessionNotCreatedException: Message: session not created: cannot connect to chrome at 127.0.0.1:9222\nfrom chrome not reachable\nStacktrace:\n        GetHandleVerifier [0x0x7ff69ce2fea5+79173]\n        GetHandleVerifier [0x0x7ff69ce2ff00+79264]\n        (No symbol) [0x0x7ff69cbe9c8c]\n        (No symbol) [0x0x7ff69cbdaaa1]\n        (No symbol) [0x0x7ff69cc2d062]\n        (No symbol) [0x0x7ff69cc2222e]\n        (No symbol) [0x0x7ff69cc767de]\n        (No symbol) [0x0x7ff69cc75f70]\n        (No symbol) [0x0x7ff69cc68743]\n        (No symbol) [0x0x7ff69cc314c1]\n        (No symbol) [0x0x7ff69cc32253]\n        GetHandleVerifier [0x0x7ff69d0fa2dd+3004797]\n        GetHandleVerifier [0x0x7ff69d0f472d+2981325]\n        GetHandleVerifier [0x0x7ff69d113380+3107360]\n        GetHandleVerifier [0x0x7ff69ce4aa2e+188622]\n        GetHandleVerifier [0x0x7ff69ce522bf+219487]\n        GetHandleVerifier [0x0x7ff69ce38df4+115860]\n        GetHandleVerifier [0x0x7ff69ce38fa9+116297]\n        GetHandleVerifier [0x0x7ff69ce1f558+11256]\n        BaseThreadInitThunk [0x0x7ffe1ab5e8d7+23]\n        RtlUserThreadStart [0x0x7ffe1ca3bf6c+44]\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 125,
    "title": "片段中文件为中文的时候报错",
    "author": "robinzhang",
    "state": "open",
    "created_at": "2025-06-03T06:08:01Z",
    "updated_at": "2025-06-03T06:08:01Z",
    "labels": [],
    "body": "文件名乱码",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 71,
    "title": "生成不了第二次视频，解压后成功生成一次就提示这个错误",
    "author": "GGM520",
    "state": "open",
    "created_at": "2024-10-20T12:29:38Z",
    "updated_at": "2025-05-27T06:39:29Z",
    "labels": [],
    "body": "CalledProcessError: Command '['ffmpeg', '-i', 'C:\\\\Users\\\\Administrator\\\\Downloads\\\\MoneyPrinterPlus-windows\\\\work\\\\1729420573127.wav', '-af', 'apad=pad_dur=2', 'C:\\\\Users\\\\Administrator\\\\Downloads\\\\MoneyPrinterPlus-windows\\\\work\\\\1729420573127.temp.wav']' returned non-zero exit status 3199971767.\r\nTraceback:\r\nFile \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows\\pages\\01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows\\main.py\", line 291, in main_generate_ai_video\r\n    main_generate_video_dubbing()\r\nFile \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows\\main.py\", line 177, in main_generate_video_dubbing\r\n    extent_audio(audio_output_file, 2)\r\nFile \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows\\tools\\utils.py\", line 162, in extent_audio\r\n    subprocess.run(command, capture_output=True, check=True)\r\nFile \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows\\python311\\Lib\\subprocess.py\", line 571, in run\r\n    raise CalledProcessError(retcode, process.args,",
    "comments": [
      {
        "user": "ddean2009",
        "body": "发下你完整日志 "
      },
      {
        "user": "niexingcang",
        "body": "> 发下你完整日志\n\n![Image](https://github.com/user-attachments/assets/f8a76247-9f18-400a-a814-2593ff758d20)\n\n![Image](https://github.com/user-attachments/assets/9a8a2c46-d254-4b0b-99ae-841ab3726a65)"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 124,
    "title": "一直报错",
    "author": "xiahe-debug",
    "state": "open",
    "created_at": "2025-05-24T16:32:00Z",
    "updated_at": "2025-05-24T16:32:00Z",
    "labels": [],
    "body": "Examining the path of torch.classes raised: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 118,
    "title": "能否建一个docker，这样更方便部署",
    "author": "kong6001",
    "state": "open",
    "created_at": "2025-04-06T03:08:38Z",
    "updated_at": "2025-05-24T10:01:09Z",
    "labels": [],
    "body": null,
    "comments": [
      {
        "user": "ZhangWeiHelloWorld",
        "body": "如果支持docker 的话会 对于想体验的人来说 太方便了，个体差异性太大了，万里长征第一步出错就不想走下去了……"
      },
      {
        "user": "rochestertian",
        "body": "强烈建议建一个docker 能上Github看代码的没几个不会用docker的吧，还是docker方便"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 120,
    "title": "TypeError: Client.__init__() got an unexpected keyword argument 'proxies'",
    "author": "nchenq",
    "state": "open",
    "created_at": "2025-05-07T03:21:26Z",
    "updated_at": "2025-05-20T12:44:58Z",
    "labels": [],
    "body": "TypeError: Client.__init__() got an unexpected keyword argument 'proxies'\nTraceback:\nFile \"C:\\Users\\HP\\Downloads\\Ai\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\n    self._session_state.on_script_will_rerun(\nFile \"C:\\Users\\HP\\Downloads\\Ai\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\n    self._state.on_script_will_rerun(latest_widget_states)\nFile \"C:\\Users\\HP\\Downloads\\Ai\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\n    self._call_callbacks()\nFile \"C:\\Users\\HP\\Downloads\\Ai\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\n    self._new_widget_state.call_callback(wid)\nFile \"C:\\Users\\HP\\Downloads\\Ai\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\n    callback(*args, **kwargs)\nFile \"C:\\Users\\HP\\Downloads\\Ai\\MoneyPrinterPlus-main\\pages\\01_auto_video.py\", line 77, in generate_video_content\n    main_generate_video_content()\nFile \"C:\\Users\\HP\\Downloads\\Ai\\MoneyPrinterPlus-main\\main.py\", line 109, in main_generate_video_content\n    st.session_state[\"video_content\"] = llm_service.generate_content(topic,\n                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"C:\\Users\\HP\\Downloads\\Ai\\MoneyPrinterPlus-main\\services\\llm\\deepseek_service.py\", line 44, in generate_content\n    llm = OpenAI(\n          ^^^^^^^\nFile \"C:\\Users\\HP\\Downloads\\Ai\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\openai\\_client.py\", line 112, in __init__\n    super().__init__(\nFile \"C:\\Users\\HP\\Downloads\\Ai\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 806, in __init__\n    self._client = http_client or SyncHttpxClientWrapper(\n                                  ^^^^^^^^^^^^^^^^^^^^^^^",
    "comments": [
      {
        "user": "nchenq",
        "body": "请教大佬这要怎么解决"
      },
      {
        "user": "linganmin",
        "body": "试一下\n```bash\n pip install httpx==0.27.2\n```\n\n安装openai包时没指定httpx包版本，httpx包在11.28进行更新，安装了httpx 0.28.0 版本的包导致报错\n\n"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 79,
    "title": "UnicodeDecodeError: 'utf-8' codec can't decode byte 0x9e in position 34: invalid start byte",
    "author": "fadeway32",
    "state": "open",
    "created_at": "2024-11-18T05:28:24Z",
    "updated_at": "2025-04-19T07:02:01Z",
    "labels": [],
    "body": "Traceback (most recent call last):\r\n  File \"D:\\Program Files\\python\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"D:\\Program Files\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"D:\\Program Files\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"D:\\Program Files\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"D:\\Program Files\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"E:\\program\\code1\\MoneyPrinterPlus\\pages\\02_mix_video.py\", line 95, in generate_video_for_mix\r\n    main_generate_ai_video_for_mix(video_generator)\r\n  File \"E:\\program\\code1\\MoneyPrinterPlus\\main.py\", line 342, in main_generate_ai_video_for_mix\r\n    main_generate_video_dubbing_for_mix()\r\n  File \"E:\\program\\code1\\MoneyPrinterPlus\\main.py\", line 187, in main_generate_video_dubbing_for_mix\r\n    audio_output_file_list, video_dir_list = get_audio_and_video_list(audio_service, audio_rate)\r\n                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\program\\code1\\MoneyPrinterPlus\\services\\hunjian\\hunjian_service.py\", line 75, in get_audio_and_video_list\r\n    video_scene_text_list = get_video_scene_text_list(video_text_list)\r\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\program\\code1\\MoneyPrinterPlus\\services\\hunjian\\hunjian_service.py\", line 61, in get_video_scene_text_list\r\n    video_line = random_line_from_text_file(video_text)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\program\\code1\\MoneyPrinterPlus\\tools\\file_utils.py\", line 145, in random_line_from_text_file\r\n    line = random_line(file)\r\n           ^^^^^^^^^^^^^^^^^\r\n  File \"E:\\program\\code1\\MoneyPrinterPlus\\tools\\file_utils.py\", line 35, in random_line\r\n    lines = afile.readlines()\r\n            ^^^^^^^^^^^^^^^^^\r\n  File \"<frozen codecs>\", line 322, in decode\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x9e in position 34: invalid start byte",
    "comments": [
      {
        "user": "zhengb0",
        "body": "请问解决了吗？"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 119,
    "title": "请求增加调用本地lmstudio",
    "author": "sknxu",
    "state": "open",
    "created_at": "2025-04-16T14:27:27Z",
    "updated_at": "2025-04-16T14:27:27Z",
    "labels": [],
    "body": "加载deepseek时报错，不知道是不是调用的问题TypeError: Client.__init__() got an unexpected keyword argument 'proxies'\nTraceback:\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\n    self._session_state.on_script_will_rerun(\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\n    self._state.on_script_will_rerun(latest_widget_states)\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\n    self._call_callbacks()\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\n    self._new_widget_state.call_callback(wid)\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\n    callback(*args, **kwargs)\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\pages\\01_auto_video.py\", line 77, in generate_video_content\n    main_generate_video_content()\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\main.py\", line 109, in main_generate_video_content\n    st.session_state[\"video_content\"] = llm_service.generate_content(topic,\n                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\services\\llm\\deepseek_service.py\", line 56, in generate_content\n    llm = self._create_llm_instance()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\services\\llm\\deepseek_service.py\", line 46, in _create_llm_instance\n    return OpenAI(\n           ^^^^^^^\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\openai\\_client.py\", line 112, in __init__\n    super().__init__(\nFile \"C:\\aaaxiangmu\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 806, in __init__\n    self._client = http_client or SyncHttpxClientWrapper(\n                                  ^^^^^^^^^^^^^^^^^^^^^^^",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 99,
    "title": "合成AI视频提示代理报错",
    "author": "ChrisLo0751",
    "state": "open",
    "created_at": "2025-01-05T16:08:10Z",
    "updated_at": "2025-04-15T01:36:13Z",
    "labels": [],
    "body": "![image](https://github.com/user-attachments/assets/f376989d-6f4b-4138-8138-52e6a83eef52)\r\n",
    "comments": [
      {
        "user": "ChrisLo0751",
        "body": "TypeError: Client.__init__() got an unexpected keyword argument 'proxies'\r\nTraceback:\r\nFile \"C:\\main\\projects\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"C:\\main\\projects\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"C:\\main\\projects\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"C:\\main\\projects\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"C:\\main\\projects\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"C:\\main\\projects\\MoneyPrinterPlus-windows\\pages\\01_auto_video.py\", line 77, in generate_video_content\r\n    main_generate_video_content()\r\nFile \"C:\\main\\projects\\MoneyPrinterPlus-windows\\main.py\", line 108, in main_generate_video_content\r\n    st.session_state[\"video_content\"] = llm_service.generate_content(topic,\r\n                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\main\\projects\\MoneyPrinterPlus-windows\\services\\llm\\deepseek_service.py\", line 44, in generate_content\r\n    llm = OpenAI(\r\n          ^^^^^^^\r\nFile \"C:\\main\\projects\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\openai\\_client.py\", line 112, in __init__\r\n    super().__init__(\r\nFile \"C:\\main\\projects\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 806, in __init__\r\n    self._client = http_client or SyncHttpxClientWrapper(\r\n                                  ^^^^^^^^^^^^^^^^^^^^^^^"
      },
      {
        "user": "jessewkun",
        "body": "我也碰到这个问题了，解决了吗朋友"
      },
      {
        "user": "ChrisLo0751",
        "body": "> 我也碰到这个问题了，解决了吗朋友\n\n没有，感觉好多问题，试着生成英语的视频，一堆报错，不稳定。"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 20,
    "title": "请问有api服务吗？如果不想用GUI的话",
    "author": "Test-Jim",
    "state": "open",
    "created_at": "2024-07-29T06:21:32Z",
    "updated_at": "2025-04-06T14:46:30Z",
    "labels": [],
    "body": "如标题所示",
    "comments": [
      {
        "user": "ddean2009",
        "body": "目前没有， 后面可以考虑加上 "
      },
      {
        "user": "ranmufei",
        "body": "求同"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 117,
    "title": "用本地语音合成模型GPT-SoVITS或者chattss都会报错，如下，我看去年就有人反馈了，大佬能把这问题解决下不。",
    "author": "longhuishen",
    "state": "open",
    "created_at": "2025-03-26T16:21:30Z",
    "updated_at": "2025-04-04T09:00:05Z",
    "labels": [],
    "body": "AttributeError: 'NoneType' object has no attribute 'read'\nTraceback:\nFile \"D:\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\n    self._session_state.on_script_will_rerun(\nFile \"D:\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\n    self._state.on_script_will_rerun(latest_widget_states)\nFile \"D:\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\n    self._call_callbacks()\nFile \"D:\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\n    self._new_widget_state.call_callback(wid)\nFile \"D:\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\n    callback(*args, **kwargs)\nFile \"D:\\MoneyPrinterPlus-windows\\pages\\01_auto_video.py\", line 89, in try_test_local_audio\n    main_try_test_local_audio()\nFile \"D:\\MoneyPrinterPlus-windows\\main.py\", line 126, in main_try_test_local_audio\n    audio_service.read_with_content(video_content)\nFile \"D:\\MoneyPrinterPlus-windows\\services\\audio\\gptsovits_service.py\", line 90, in read_with_content\n    audio = AudioSegment.from_file(temp_file)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"D:\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\pydub\\audio_segment.py\", line 723, in from_file\n    stdin_data = file.read()\n                 ^^^^^^^^^",
    "comments": [
      {
        "user": "wklearn",
        "body": "垃圾橡木"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 86,
    "title": "ai视频报错",
    "author": "liulanghan8023",
    "state": "open",
    "created_at": "2024-12-01T11:57:44Z",
    "updated_at": "2025-03-28T07:46:58Z",
    "labels": [],
    "body": "File \"D:\\sofrware\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"D:\\sofrware\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"D:\\sofrware\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"D:\\sofrware\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"D:\\sofrware\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"D:\\sofrware\\MoneyPrinterPlus-windows\\pages\\01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"D:\\sofrware\\MoneyPrinterPlus-windows\\main.py\", line 291, in main_generate_ai_video\r\n    main_generate_video_dubbing()\r\nFile \"D:\\sofrware\\MoneyPrinterPlus-windows\\main.py\", line 177, in main_generate_video_dubbing\r\n    extent_audio(audio_output_file, 2)\r\nFile \"D:\\sofrware\\MoneyPrinterPlus-windows\\tools\\utils.py\", line 162, in extent_audio\r\n    subprocess.run(command, capture_output=True, check=True)\r\nFile \"D:\\sofrware\\MoneyPrinterPlus-windows\\python311\\Lib\\subprocess.py\", line 571, in run\r\n    raise CalledProcessError(retcode, process.args,\r\n    \r\n    求解",
    "comments": [
      {
        "user": "cleartime",
        "body": "我也是这个问题，你现在好了么"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 106,
    "title": "使用GPT-SoVITS模型，点击试听声音报错",
    "author": "xinzezhu",
    "state": "open",
    "created_at": "2025-02-10T16:25:40Z",
    "updated_at": "2025-03-27T00:46:29Z",
    "labels": [],
    "body": "报错信息：\nAttributeError: 'NoneType' object has no attribute 'read'\nTraceback:\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\nself._session_state.on_script_will_rerun(\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\nself._state.on_script_will_rerun(latest_widget_states)\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\nself._call_callbacks()\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\nself._new_widget_state.call_callback(wid)\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\ncallback(*args, **kwargs)\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 66, in try_test_local_audio\nmain_try_test_local_audio()\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\main.py\", line 120, in main_try_test_local_audio\naudio_service.read_with_content(video_content)\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\services\\audio\\chattts_service.py\", line 98, in read_with_content\naudio = AudioSegment.from_file(temp_file)\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\pydub\\audio_segment.py\", line 723, in from_file\nstdin_data = file.read()\n^^^^^^^^^",
    "comments": [
      {
        "user": "xinzezhu",
        "body": "抓包发现GPT-SoVITS模型一直返回400错误，错误提示：未指定默认参考音频\n\n最后看GPT-SoVITS代码，发现是必须要传入以下三个参数且一定要勾选音频文件，不然这个服务会认为你没有传音频且没有设置默认音频：\n\n![Image](https://github.com/user-attachments/assets/6b4ccdaa-fa82-4e0c-835f-c5a17ee0b729)"
      },
      {
        "user": "wei140914",
        "body": "一样 填入三个必须的参数也不行\n\nAttributeError: 'NoneType' object has no attribute 'read'\nTraceback:\nFile \"/Users/w/Documents/Github/MoneyPrinterPlus-main/venv/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/script_runner.py\", line 575, in _run_script\n    self._session_state.on_script_will_rerun(\nFile \"/Users/w/Documents/Github/MoneyPrinterPlus-main/venv/lib/python3.11/site-packages/streamlit/runtime/state/safe_session_state.py\", line 65, in on_script_will_rerun\n    self._state.on_script_will_rerun(latest_widget_states)\nFile \"/Users/w/Documents/Github/MoneyPrinterPlus-main/venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py\", line 517, in on_script_will_rerun\n    self._call_callbacks()\nFile \"/Users/w/Documents/Github/MoneyPrinterPlus-main/venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py\", line 530, in _call_callbacks\n    self._new_widget_state.call_callback(wid)\nFile \"/Users/w/Documents/Github/MoneyPrinterPlus-main/venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py\", line 274, in call_callback\n    callback(*args, **kwargs)\nFile \"/Users/w/Documents/Github/MoneyPrinterPlus-main/pages/01_auto_video.py\", line 89, in try_test_local_audio\n    main_try_test_local_audio()\nFile \"/Users/w/Documents/Github/MoneyPrinterPlus-main/main.py\", line 129, in main_try_test_local_audio\n    audio_service.read_with_content(video_content)\nFile \"/Users/w/Documents/Github/MoneyPrinterPlus-main/services/audio/gptsovits_service.py\", line 90, in read_with_content\n    audio = AudioSegment.from_file(temp_file)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/Users/w/Documents/Github/MoneyPrinterPlus-main/venv/lib/python3.11/site-packages/pydub/audio_segment.py\", line 723, in from_file\n    stdin_data = file.read()\n                 ^^^^^^^^^"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 116,
    "title": "Failed to build pyaudio",
    "author": "qiyaozu",
    "state": "open",
    "created_at": "2025-03-25T09:54:01Z",
    "updated_at": "2025-03-25T09:54:01Z",
    "labels": [],
    "body": null,
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 93,
    "title": "python -m  pip install -r requirements.txt 编译出错",
    "author": "lovepoem",
    "state": "open",
    "created_at": "2024-12-03T10:57:20Z",
    "updated_at": "2025-03-25T09:40:06Z",
    "labels": [],
    "body": "ERROR: Ignored the following versions that require a different python version: 0.55.2 Requires-Python <3.5; 2.10.1 Requires-Python <3; 2.11.0 Requires-Python <3; 2.11.1 Requires-Python <3; 2.4.0 Requires-Python <3; 2.4.1 Requires-Python <3; 2.4.2 Requires-Python <3; 2.4.3 Requires-Python <3; 2.4.4 Requires-Python <3; 2.5.0 Requires-Python <3; 2.5.1 Requires-Python <3; 2.5.2 Requires-Python <3; 2.6.0 Requires-Python <3; 2.6.1 Requires-Python <3; 2.6.2 Requires-Python <3; 2.7.0 Requires-Python <3; 2.7.2 Requires-Python <3; 2.8.0 Requires-Python <3; 2.8.1 Requires-Python <3; 2.8.2 Requires-Python <3; 2.8.3 Requires-Python <3; 2.8.4 Requires-Python <3; 2.8.5 Requires-Python <3; 2.8.6 Requires-Python <3; 2.8.7 Requires-Python <3; 2.9.2 Requires-Python <3\r\nERROR: Could not find a version that satisfies the requirement torch==2.3.1 (from versions: 2.2.0, 2.2.1, 2.2.2)\r\nERROR: No matching distribution found for torch==2.3.1",
    "comments": [
      {
        "user": "qiyaozu",
        "body": "我也遇到了这个问题"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 74,
    "title": "不支持第三方API服务吗？",
    "author": "G-LJDS2022",
    "state": "open",
    "created_at": "2024-10-28T03:04:49Z",
    "updated_at": "2025-03-24T03:17:14Z",
    "labels": [],
    "body": "看了一下，似乎只支持官方API或者ollama本地模型，但国人通常都是用的第三方的API较多，能否适配第三方的API服务。",
    "comments": [
      {
        "user": "ddean2009",
        "body": "哪个是第三方？"
      },
      {
        "user": "hyperlook",
        "body": "openapi 加个 baseurl 就行，大部分兼容的，用 ai 自己改下"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 115,
    "title": "给大佬提个功能",
    "author": "RiseToTop",
    "state": "open",
    "created_at": "2025-03-18T07:01:07Z",
    "updated_at": "2025-03-18T07:01:07Z",
    "labels": [],
    "body": "自动定时抓取各个平台的热搜来生成视频自动发布",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 109,
    "title": "批量发布希望增加两个功能",
    "author": "mapei1992",
    "state": "open",
    "created_at": "2025-02-19T01:06:56Z",
    "updated_at": "2025-03-10T10:04:28Z",
    "labels": [],
    "body": "\n1、上传封面图片\n2、增加定时发布",
    "comments": [
      {
        "user": "mapei1992",
        "body": "**我改了代码，03_auto_publish.py  视频网站配置区增加日期加时间的输入**\n` col1, col2 = st.columns(2)\n    last_input_timed_date = st.session_state.get('timed_date', datetime.date.today())\n    last_input_timed_time = st.session_state.get('timed_time', datetime.time(12, 0))\n    \n    with col1:\n       date = st.date_input(\"定时发布日期，需要定时发布，把时间设置小于当前日期即可\",last_input_timed_date,key=\"timed_date\")\n    with col2:\n        time = st.time_input(\"定时发布日时间\", last_input_timed_time,key=\"timed_time\")`\n\n\n\n\n\n\n**xiaohongshu_publisher.py，在点击发布按钮前，增加**\n`  timedate = st.session_state.get('timed_date')\n    timetime = st.session_state.get('timed_time')\n    current_datetime = datetime.datetime.now()\n    input_datetime = datetime.datetime.combine(timedate, timetime)\n    \n    print(timedate,timetime)\n    print(timedate,timetime)\n    if input_datetime > current_datetime:\n        result = input_datetime.strftime('%Y-%m-%d %H:%M')\n        # timedbtn= driver.find_element(By.CLASS_NAME, 'el-radio__input is-checked')\n        \n        parent_element = driver.find_element(By.CLASS_NAME, 'el-radio-group')\n        timedbtn=parent_element.find_elements('tag name', 'label')[1]\n        driver.execute_script(\"arguments[0].scrollIntoView();\", timedbtn)\n        time.sleep(1)\n        timedbtn.click()\n        time.sleep(1)\n        timedinput = driver.find_element(By.CSS_SELECTOR, 'input[placeholder=\"选择日期和时间\"]')\n        timedinput.clear()\n        time.sleep(1)\n        timedinput.send_keys(result)`\n\n**douyin_publisher.py在点击发布按钮前，增加**\n`   timedate = st.session_state.get('timed_date')\n    timetime = st.session_state.get('timed_time')\n    current_datetime = datetime.datetime.now()\n    input_datetime = datetime.datetime.combine(timedate, timetime)\n    \n    print(timedate,timetime)\n    print(timedate,timetime)\n    if input_datetime > current_datetime:\n        result = input_datetime.strftime('%Y-%m-%d %H:%M')\n        # timedbtn= driver.find_element(By.CLASS_NAME, 'el-radio__input is-checked')\n        \n        # parent_element = driver.find_element(By.CLASS_NAME, 'row-bcsd8M')\n        parent_element =driver.find_element(By.XPATH, \"//span[text()='定时发布']\").find_element(By.XPATH, \"..\")\n        # timedbtn=parent_element.find_elements('tag name', 'label')[1]\n        # driver.execute_script(\"arguments[0].scrollIntoView();\", timedbtn)\n        # time.sleep(1)\n        parent_element.click()\n        time.sleep(1)\n        timedinput = driver.find_element(By.CSS_SELECTOR, 'input[placeholder=\"日期和时间\"]')\n        timedinput.clear()\n        time.sleep(1)\n        timedinput.send_keys(result)`\n\n\n\n**shipinhao_publisher.py在点击发布按钮前，增加（视频号的定时输入框太扯淡了，设置的只读，必须通过点击设置值**）\n`timedate = st.session_state.get('timed_date')\n    timetime = st.session_state.get('timed_time')\n    current_datetime = datetime.datetime.now()\n    input_datetime = datetime.datetime.combine(timedate, timetime)\n    \n    \n    \n    if input_datetime > current_datetime:\n        result = input_datetime.strftime('%H:%M')\n        # timedbtn= driver.find_element(By.CLASS_NAME, 'el-radio__input is-checked')\n        \n        parent_element = driver.find_element(By.CLASS_NAME, 'weui-desktop-radio-group')\n        timedbtn=parent_element.find_elements('tag name', 'label')[1]\n        driver.execute_script(\"arguments[0].scrollIntoView();\", timedbtn)\n        time.sleep(1)\n        timedbtn.click()\n        # 点击日期选择框\n        datainput = driver.find_element(By.CSS_SELECTOR, 'input[placeholder=\"请选择发表时间\"]')\n        datainput.click()\n        time.sleep(1)\n        \n        time.sleep(1)\n        # driver.execute_script(\"arguments[0].value = '{0}';\".format(result), timeinput)\n        # time.sleep(1)\n        # timeinput.send_keys(result)\n        day = timedate.day\n        print(timedate,timetime,day)\n        time.sleep(1)\n        # 日历组件\n        \n        tr_elements = driver.find_elements(By.CLASS_NAME, \"weui-desktop-picker__table-row\")\n        \n        clickd = 0\n        for tr in tr_elements:\n    # 查找 tr 下的 td 元素中的 a 元素\n            a_elements = tr.find_elements(By.TAG_NAME, \"a\")\n\n            for a in a_elements:\n        # 获取 a 标签的值，并检查其内容和 class\n                a_text = a.text.strip()  # 获取 a 标签的文本内容\n                # print(f\"111111111a 标签的值: {a_text}\")\n                a_class = a.get_attribute(\"class\")\n                \n        \n        # 判断 a 标签的值是否为 day 且 class 不包含 'weui-desktop-picker__disabled'\n                if str(a_text) == str(day) and \"weui-desktop-picker__disabled\" not in a_class:\n            # 点击 a 标签\n                    clickd = 1\n                    a.click()\n                    print(f\"点击了值为 日期 的 a 标签: {a.text}\")\n                    break  # 如果找到并点击了，跳出当前循环\n                else:\n                    pass\n        \n        # 如果 a 标签的 class 是 weui-desktop-picker__disabled，查找并点击 button\n        if clickd ==0:\n            button = driver.find_element(By.CLASS_NAME, \"weui-desktop-btn__icon__right\")\n            if button:\n                button.click()\n                time.sleep(1)\n                print(f\"点击了 翻页按钮\")\n                tr_elements = driver.find_elements(By.CLASS_NAME, \"weui-desktop-picker__table-row\")\n                for tr in tr_elements:\n                    a_elements = tr.find_elements(By.TAG_NAME, \"a\")\n    \n                    for a in a_elements:\n                        a_text = a.text.strip()  # 获取 a 标签的文本内容\n                        if str(a_text) == str(day) and \"weui-desktop-picker__disabled\" not in a_class:\n                            # 点击 a 标签\n                            a.click()\n                            clickd = 1\n                            print(f\"再次点击了值为 day 的 a 标签: {a.text}\")\n                            break  # 如果找到并点击了，跳出循环\n        timeinput = driver.find_element(By.CSS_SELECTOR, 'input[placeholder=\"请选择时间\"]')\n        timeinput.click()\n        time.sleep(1) \n        hour_ol = driver.find_elements(By.CLASS_NAME, \"weui-desktop-picker__time__hour\")[0]\n        # print(hour_ol)\n        hour_elements = hour_ol.find_elements(By.TAG_NAME, \"li\")\n        minute_ol = driver.find_elements(By.CLASS_NAME, \"weui-desktop-picker__time__minute\")[0]\n        minute_elements = minute_ol.find_elements(By.TAG_NAME, \"li\")\n        for hour in hour_elements:\n            hour_text = hour.text.strip()\n            print(hour.get_attribute('outerHTML'),hour.text,timetime.hour)\n            if hour_text == str(timetime.hour).zfill(2):\n                hour.click()\n                print(f\"点击了值为 {timetime.hour} 的小时\")\n                break\n\n        for minute in minute_elements:\n            minute_text = minute.text.strip()\n            print(minute.get_attribute('outerHTML'),minute_text,timetime.minute)\n            if minute_text == str(timetime.minute).zfill(2):\n                minute.click()\n                print(f\"点击了值为 {timetime.minute} 的分钟\")\n                break\n        time.sleep(1)`"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 114,
    "title": "无效的key",
    "author": "UCinderella",
    "state": "open",
    "created_at": "2025-03-04T04:27:21Z",
    "updated_at": "2025-03-04T04:27:21Z",
    "labels": [],
    "body": "是按照教程一步步来的,注册开通了阿里的语音交互,显示这个报错\n\n![Image](https://github.com/user-attachments/assets/44c2d5da-2b26-4d2f-b960-5585ffde0ee5)\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 113,
    "title": "ValueError: HTTP 401 error: {\"error\":{\"message\":\"Invalid Authentication\",\"type\":\"invalid_authentication_error\"}}",
    "author": "qufuxiaozi76",
    "state": "open",
    "created_at": "2025-03-01T15:54:09Z",
    "updated_at": "2025-03-01T15:54:09Z",
    "labels": [],
    "body": "ValueError: HTTP 401 error: {\"error\":{\"message\":\"Invalid Authentication\",\"type\":\"invalid_authentication_error\"}} 这是什么原因呢",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 107,
    "title": "ValueError: Invalid model size....这个问题咋解决",
    "author": "xinzezhu",
    "state": "open",
    "created_at": "2025-02-10T17:14:17Z",
    "updated_at": "2025-02-27T11:32:56Z",
    "labels": [],
    "body": "这个问题咋解决呀？\n![Image](https://github.com/user-attachments/assets/6697b67e-8c3c-40ac-8d60-10a32e0dd037)",
    "comments": [
      {
        "user": "qiaoboqiao",
        "body": "处理好了吗，我今天也遇见了"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 110,
    "title": "混剪素材希望可以多一些不要有5个限制，",
    "author": "RunChen99",
    "state": "open",
    "created_at": "2025-02-24T12:33:20Z",
    "updated_at": "2025-02-24T12:33:20Z",
    "labels": [],
    "body": null,
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 108,
    "title": "寻求完全卸载方法",
    "author": "KYO-ARES",
    "state": "open",
    "created_at": "2025-02-12T04:49:43Z",
    "updated_at": "2025-02-24T10:31:07Z",
    "labels": [],
    "body": "换了目录，python路径不对导致无法使用.  请问有没有完全清除卸载的方法，重新安装.\n\nInstalling requirements from requirements.txt...\nFatal error in launcher: Unable to create process using '\" D:\\MoneyPrinterPlus\\venv\\Scripts\\python.exe**\"\n\n第一次安装放在D盘，后面挪到E盘后，变量路径总是指向第一次安装位置，不知为何.",
    "comments": [
      {
        "user": "donghl",
        "body": "这个是系统python环境变量的问题，跟这个项目没什么关系吧"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 92,
    "title": "视频生成成功了，但是最后保存的时候失败了，Error opening E:\\opensource\\MoneyPrinterPlus\\final\\final-1733149521674.mp4",
    "author": "zyhxq",
    "state": "open",
    "created_at": "2024-12-03T01:47:15Z",
    "updated_at": "2025-02-17T08:05:48Z",
    "labels": [],
    "body": "`The above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 600, in _run_script\r\n    exec(code, module.__dict__)\r\n  File \"E:\\opensource\\MoneyPrinterPlus\\pages\\02_merge_video.py\", line 245, in <module>\r\n    st.video(result_video_file)\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py\", line 397, in wrapped_func\r\n    result = non_optional_func(*args, **kwargs)\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\elements\\media.py\", line 341, in video\r\n    marshall_video(\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\elements\\media.py\", line 531, in marshall_video\r\n    _marshall_av_media(coordinates, proto, data, mimetype)\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\elements\\media.py\", line 438, in _marshall_av_media\r\n    file_url = runtime.get_instance().media_file_mgr.add(\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\media_file_manager.py\", line 224, in add\r\n    file_id = self._storage.load_and_get_id(\r\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\memory_media_file_storage.py\", line 115, in load_and_get_id\r\n    file_data = self._read_file(path_or_data)\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\memory_media_file_storage.py\", line 167, in _read_file\r\n    raise MediaFileStorageError(f\"Error opening '{filename}'\") from ex\r\nstreamlit.runtime.media_file_storage.MediaFileStorageError: Error opening 'E:\\opensource\\MoneyPrinterPlus\\final\\final-1733149521674.mp4'`\r\n\r\n![image](https://github.com/user-attachments/assets/2807d383-9a87-4e6b-9b99-dcc4e6daa0c9)\r\n\r\n![image](https://github.com/user-attachments/assets/e337a05d-1629-4e0c-8f37-3ef79472318f)\r\n\r\n\r\n",
    "comments": [
      {
        "user": "jayepep",
        "body": "> `The above exception was the direct cause of the following exception:\n> \n> Traceback (most recent call last): File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 600, in _run_script exec(code, module.**dict**) File \"E:\\opensource\\MoneyPrinterPlus\\pages\\02_merge_video.py\", line 245, in st.video(result_video_file) File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py\", line 397, in wrapped_func result = non_optional_func(*args, **kwargs) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\elements\\media.py\", line 341, in video marshall_video( File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\elements\\media.py\", line 531, in marshall_video _marshall_av_media(coordinates, proto, data, mimetype) File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\elements\\media.py\", line 438, in _marshall_av_media file_url = runtime.get_instance().media_file_mgr.add( ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\media_file_manager.py\", line 224, in add file_id = self._storage.load_and_get_id( ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\memory_media_file_storage.py\", line 115, in load_and_get_id file_data = self._read_file(path_or_data) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\memory_media_file_storage.py\", line 167, in _read_file raise MediaFileStorageError(f\"Error opening '{filename}'\") from ex streamlit.runtime.media_file_storage.MediaFileStorageError: Error opening 'E:\\opensource\\MoneyPrinterPlus\\final\\final-1733149521674.mp4'`\n> \n> ![image](https://github.com/user-attachments/assets/2807d383-9a87-4e6b-9b99-dcc4e6daa0c9)\n> \n> ![image](https://github.com/user-attachments/assets/e337a05d-1629-4e0c-8f37-3ef79472318f)\n\n请问你后来怎么解决的呀，有偿请教！"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 105,
    "title": "混剪功能生成视频一直占用的是cpu，可以用gpu吗？是哪里可以配置吗？",
    "author": "YinWeijie971116",
    "state": "open",
    "created_at": "2025-02-08T07:28:16Z",
    "updated_at": "2025-02-08T07:28:16Z",
    "labels": [],
    "body": null,
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 103,
    "title": "[bug][视频自动发布工具]小红书自动填充失效",
    "author": "frankcbliu",
    "state": "open",
    "created_at": "2025-02-03T14:11:46Z",
    "updated_at": "2025-02-03T14:12:18Z",
    "labels": [],
    "body": "小红书无法使用，跳转后只上传了视频；标题、描述、标签、合集等都没有自动填写。（相同的内容在抖音上是可以正常填写的。）\n\n<img width=\"1170\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b1d50967-51c9-490f-b29f-d06542e1fdf7\" />",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 102,
    "title": "是不是必须要开通Azure服务才能使用功能",
    "author": "yangye19960922",
    "state": "open",
    "created_at": "2025-01-28T03:39:09Z",
    "updated_at": "2025-01-28T03:39:09Z",
    "labels": [],
    "body": "Importing the Speech SDK for Python failed.\n    Refer to\n    https://docs.microsoft.com/azure/cognitive-services/speech-service/quickstart-text-to-speech-python for\n    installation instructions.\n\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 101,
    "title": "⚠️ 配音文字不能为空",
    "author": "wengdajie",
    "state": "open",
    "created_at": "2025-01-18T09:40:55Z",
    "updated_at": "2025-01-18T09:40:55Z",
    "labels": [],
    "body": "⚠️\n配音文字不能为空。\n\n字幕可否作为一个自选项？我只想配固定的背景音乐。不用字幕已经字幕语音",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 75,
    "title": "点击“视频TTS语音合成区” 试听报错",
    "author": "9ihbd2DZSMjtsf7vecXjz",
    "state": "open",
    "created_at": "2024-10-30T11:05:01Z",
    "updated_at": "2025-01-18T05:30:55Z",
    "labels": [],
    "body": "报错如下,烦请帮忙看看哪里的原因,感谢\r\n\r\n\r\n\r\n\r\nAttributeError: 'NoneType' object has no attribute 'read'\r\nTraceback:\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"D:\\app\\ai\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 89, in try_test_local_audio\r\n    main_try_test_local_audio()\r\nFile \"D:\\app\\ai\\MoneyPrinterPlus\\main.py\", line 126, in main_try_test_local_audio\r\n    audio_service.read_with_content(video_content)\r\nFile \"D:\\app\\ai\\MoneyPrinterPlus\\services\\audio\\chattts_service.py\", line 121, in read_with_content\r\n    audio = AudioSegment.from_file(temp_file)\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydub\\audio_segment.py\", line 723, in from_file\r\n    stdin_data = file.read()",
    "comments": [
      {
        "user": "edensgate",
        "body": "https://github.com/ddean2009/MoneyPrinterPlus/issues/48"
      },
      {
        "user": "edensgate",
        "body": "> [#48](https://github.com/ddean2009/MoneyPrinterPlus/issues/48)\n\n参数对不上，自己改不来，等更新了"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 100,
    "title": "ffmpeg 6.1.1 安装包链接失效",
    "author": "Skynet520",
    "state": "open",
    "created_at": "2025-01-18T05:12:14Z",
    "updated_at": "2025-01-18T05:12:14Z",
    "labels": [],
    "body": "https://www.gyan.dev/ffmpeg/builds/packages/ffmpeg-6.1.1-essentials_build.zip",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 98,
    "title": "左边功能都使用不了，一直报错，不懂代码，辛苦作者帮我看一下谢谢",
    "author": "C82502405205",
    "state": "open",
    "created_at": "2025-01-05T15:50:55Z",
    "updated_at": "2025-01-05T15:50:55Z",
    "labels": [],
    "body": "以下问题，辛苦作者看看哈\r\n\r\n<img width=\"1040\" alt=\"截屏2025-01-05 23 49 57\" src=\"https://github.com/user-attachments/assets/c05d6fd1-61c3-46d1-a278-aaf9f2aa7c68\" />\r\n<img width=\"1082\" alt=\"截屏2025-01-05 23 50 14\" src=\"https://github.com/user-attachments/assets/b8244ca9-9c89-401c-be18-441a508b1e9a\" />\r\n<img width=\"1039\" alt=\"截屏2025-01-05 23 50 27\" src=\"https://github.com/user-attachments/assets/321b6b82-a37a-492e-b542-e5c6e2ea396a\" />\r\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 97,
    "title": "use Stable Diffusion generator video error",
    "author": "gh365",
    "state": "open",
    "created_at": "2025-01-02T15:17:16Z",
    "updated_at": "2025-01-02T15:17:16Z",
    "labels": [],
    "body": "use Stable Diffusion:\r\n![image](https://github.com/user-attachments/assets/6bdded47-79e7-4fca-9841-e72f50b6cc76)\r\ngenerator video error:\r\n![image](https://github.com/user-attachments/assets/1f66f1ed-ca35-4664-8424-cab4f2c546cb)\r\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 96,
    "title": "win10安装完后运行提示CalledProcessError: Command '['ffmpeg', '-i',",
    "author": "JamLeee",
    "state": "closed",
    "created_at": "2025-01-01T13:53:44Z",
    "updated_at": "2025-01-01T14:53:35Z",
    "labels": [],
    "body": "![屏幕截图 2025-01-01 215218](https://github.com/user-attachments/assets/0c69fd4f-4b87-4307-887a-8be878c36e2c)\r\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 95,
    "title": "部署在同一台机器因为中文路径问题迁移位置后出现bug无法运行",
    "author": "MOZac-hash",
    "state": "open",
    "created_at": "2024-12-24T14:50:37Z",
    "updated_at": "2024-12-24T14:56:14Z",
    "labels": [],
    "body": "操作如题，报错如下：\r\n\r\n```\r\nE:\\MoneyPrinterPlus-windows>IF EXIST venv (\r\necho venv dir exist\r\n call .\\venv\\Scripts\\deactivate.bat\r\n call .\\venv\\Scripts\\activate.bat\r\n)  ELSE (echo venv dir not exist )\r\nvenv dir exist\r\nFatal error in launcher: Unable to create process using '\"E:\\RustyLake Untold - ??\\BGM\\MoneyPrinterPlus-windows\\venv\\Scripts\\python.exe\"  \"E:\\MoneyPrinterPlus-windows\\venv\\Scripts\\streamlit.exe\" run gui.py ': ???????????\r\n```",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 94,
    "title": "希望能添加一个始终在画面最上层悬浮的图片或者透明格式的视频当标题",
    "author": "GFeelingh",
    "state": "open",
    "created_at": "2024-12-12T13:43:40Z",
    "updated_at": "2024-12-12T13:43:40Z",
    "labels": [],
    "body": "因为想做推荐东西，需要把票价什么的设置在最上层，要是能添加一个置顶层的PNG封面或者透明格式的MOV视频能在最上方，不胜感谢！！！",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 52,
    "title": "有好几个问题，不如之前版本的moneyPrinter稳定",
    "author": "sdwcn",
    "state": "open",
    "created_at": "2024-09-22T05:39:45Z",
    "updated_at": "2024-12-04T11:53:46Z",
    "labels": [],
    "body": "1. pixabay 能下载生成视频但视频大小尺寸不匹配，竖屏的视频  若下载的是宽屏的，只会显示一半\r\n2. chatTTS 生成原始音频没问题，但合成视频后有音爆噪声\r\n3. 识别声音生成字幕后  总是繁体\r\n4. 语速调成slowest 也无效，仍然是normal的音速\r\n5. 选pexels会提示video 未生成，pexels key 在其他版本的money printer可以正常工作，这个不行\r\n",
    "comments": [
      {
        "user": "Hchunjun",
        "body": "我也碰到 繁体字幕的问题"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 91,
    "title": "Could not locate cudnn_ops64_9.dll. Please make sure it is in your library path! Invalid handle. Cannot load symbol cudnnCreateTensorDescriptor",
    "author": "liulanghan8023",
    "state": "open",
    "created_at": "2024-12-02T15:00:18Z",
    "updated_at": "2024-12-02T15:00:18Z",
    "labels": [],
    "body": "Could not locate cudnn_ops64_9.dll. Please make sure it is in your library path!\r\nInvalid handle. Cannot load symbol cudnnCreateTensorDescriptor\r\n\r\n这个怎么解决",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 90,
    "title": "混剪提示：目录无权限",
    "author": "zyhxq",
    "state": "open",
    "created_at": "2024-12-02T14:04:25Z",
    "updated_at": "2024-12-02T14:33:15Z",
    "labels": [],
    "body": "混剪提示：目录无权限，这个目录必须要是项目目录吗\r\n`ermissionError: [Errno 13] Permission denied: 'F:\\\\自媒体\\\\小说推文\\\\TK\\\\素材\\\\炼丹炉\\\\test1'\r\nTraceback:\r\nFile \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"E:\\opensource\\MoneyPrinterPlus\\pages\\02_mix_video.py\", line 95, in generate_video_for_mix\r\n    main_generate_ai_video_for_mix(video_generator)\r\nFile \"E:\\opensource\\MoneyPrinterPlus\\main.py\", line 342, in main_generate_ai_video_for_mix\r\n    main_generate_video_dubbing_for_mix()\r\nFile \"E:\\opensource\\MoneyPrinterPlus\\main.py\", line 196, in main_generate_video_dubbing_for_mix\r\n    audio_output_file_list, video_dir_list = get_audio_and_video_list_local(audio_service)\r\n                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"E:\\opensource\\MoneyPrinterPlus\\services\\hunjian\\hunjian_service.py\", line 99, in get_audio_and_video_list_local\r\n    video_scene_text_list = get_video_scene_text_list(video_text_list)\r\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"E:\\opensource\\MoneyPrinterPlus\\services\\hunjian\\hunjian_service.py\", line 61, in get_video_scene_text_list\r\n    video_line = random_line_from_text_file(video_text)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"E:\\opensource\\MoneyPrinterPlus\\tools\\file_utils.py\", line 144, in random_line_from_text_file\r\n    with open(text_file, 'r', encoding='utf-8') as file:\r\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^`\r\n![image](https://github.com/user-attachments/assets/2ec02d79-e098-4413-9ee1-cb94fb3fa556)\r\n",
    "comments": [
      {
        "user": "zyhxq",
        "body": "`The above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 600, in _run_script\r\n    exec(code, module.__dict__)\r\n  File \"E:\\opensource\\MoneyPrinterPlus\\pages\\02_merge_video.py\", line 245, in <module>\r\n    st.video(result_video_file)\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py\", line 397, in wrapped_func\r\n    result = non_optional_func(*args, **kwargs)\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\elements\\media.py\", line 341, in video\r\n    marshall_video(\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\elements\\media.py\", line 531, in marshall_video\r\n    _marshall_av_media(coordinates, proto, data, mimetype)\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\elements\\media.py\", line 438, in _marshall_av_media\r\n    file_url = runtime.get_instance().media_file_mgr.add(\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\media_file_manager.py\", line 224, in add\r\n    file_id = self._storage.load_and_get_id(\r\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\memory_media_file_storage.py\", line 115, in load_and_get_id\r\n    file_data = self._read_file(path_or_data)\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\Program Files\\Lib\\site-packages\\streamlit\\runtime\\memory_media_file_storage.py\", line 167, in _read_file\r\n    raise MediaFileStorageError(f\"Error opening '{filename}'\") from ex\r\nstreamlit.runtime.media_file_storage.MediaFileStorageError: Error opening 'E:\\opensource\\MoneyPrinterPlus\\final\\final-1733149521674.mp4'`\r\n\r\n![image](https://github.com/user-attachments/assets/2807d383-9a87-4e6b-9b99-dcc4e6daa0c9)\r\n\r\n![image](https://github.com/user-attachments/assets/e337a05d-1629-4e0c-8f37-3ef79472318f)\r\n\r\n\r\n"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 89,
    "title": "功能很牛逼，但是提个建议：页面功能有点乱",
    "author": "zyhxq",
    "state": "open",
    "created_at": "2024-12-02T01:15:11Z",
    "updated_at": "2024-12-02T01:15:11Z",
    "labels": [],
    "body": "希望能把功能做成流水线，如：\r\nAI视频：\r\nTab1:文案生成\r\nTab2:配音（本地模型或者云端）或者导入字幕和配音\r\nTab3:bgm\r\nTab4:根据文案选素材\r\nTab5:合成（专场，去重，加画中画，视频叠加等功能）\r\nTab6:导出剪映草稿或者直接导出\r\n\r\n这样流水线非常顺畅，相关的云端配置非必要不要限制，用的时候用不了，自然会去配置\r\n目前整个页面显得有点混乱，不过作者还是非常牛逼的，点赞\r\n希望能一起提交代码\r\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 88,
    "title": "云端音频库配置最好为可选，有了GPT_SOVIT是不是就可以了？不配置也不影响混剪功能才对，没有的配的东西生成视频时无效就行",
    "author": "zyhxq",
    "state": "open",
    "created_at": "2024-12-02T01:05:37Z",
    "updated_at": "2024-12-02T01:05:37Z",
    "labels": [],
    "body": "![image](https://github.com/user-attachments/assets/499bbe0b-18a1-48d7-a902-8d5650ceee66)\r\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 87,
    "title": "点击试听声音报错",
    "author": "ElvisDream",
    "state": "open",
    "created_at": "2024-12-01T14:04:10Z",
    "updated_at": "2024-12-01T14:04:10Z",
    "labels": [],
    "body": "\r\n<img width=\"965\" alt=\"image\" src=\"https://github.com/user-attachments/assets/725d3ffa-4331-4a12-b342-8401ada90f99\">\r\n\r\n点击这个按钮后报错，日志如下：\r\nffmpeg version 7.1 Copyright (c) 2000-2024 the FFmpeg developers\r\n  built with Apple clang version 16.0.0 (clang-1600.0.26.4)\r\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/7.1_3 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\r\n  libavutil      59. 39.100 / 59. 39.100\r\n  libavcodec     61. 19.100 / 61. 19.100\r\n  libavformat    61.  7.100 / 61.  7.100\r\n  libavdevice    61.  3.100 / 61.  3.100\r\n  libavfilter    10.  4.100 / 10.  4.100\r\n  libswscale      8.  3.100 /  8.  3.100\r\n  libswresample   5.  3.100 /  5.  3.100\r\n  libpostproc    58.  3.100 / 58.  3.100\r\n[in#0 @ 0x600000234200] Error opening input: Invalid data found when processing input\r\nError opening input file /Users/a1/Downloads/MoneyPrinterPlus-main/work/temp.wav.\r\nError opening input files: Invalid data found when processing input\r\n请问我应该如何解决？",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 85,
    "title": "AttributeError: module 'torch' has no attribute 'Tensor'",
    "author": "yu3rich",
    "state": "open",
    "created_at": "2024-11-29T12:46:23Z",
    "updated_at": "2024-11-29T12:46:23Z",
    "labels": [],
    "body": "AttributeError: module 'torch' has no attribute 'Tensor'\r\nTraceback:\r\nFile \"D:\\ai-py\\MoneyPrinterPlus-windows\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 600, in _run_script\r\n    exec(code, module.__dict__)\r\nFile \"D:\\ai-py\\MoneyPrinterPlus-windows\\pages\\02_mix_video.py\", line 30, in <module>\r\n    from main import main_generate_ai_video_for_mix, main_try_test_audio, get_audio_voices, main_try_test_local_audio\r\nFile \"D:\\ai-py\\MoneyPrinterPlus-windows\\main.py\", line 31, in <module>\r\n    from services.audio.chattts_service import ChatTTSAudioService\r\nFile \"D:\\ai-py\\MoneyPrinterPlus-windows\\services\\audio\\chattts_service.py\", line 55, in <module>\r\n    def encode_spk_emb(spk_emb: torch.Tensor) -> str:\r\n\r\n\r\n大佬这个报错怎么回事呢",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 84,
    "title": "LLM配置支持 base_url",
    "author": "kenneth-bro",
    "state": "open",
    "created_at": "2024-11-27T08:23:47Z",
    "updated_at": "2024-11-27T08:23:47Z",
    "labels": [],
    "body": "如标题，大模型的配置能支持配置 base_url，这样方便使用 one-api 这样的平台",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 83,
    "title": "AttributeError: 'NoneType' object has no attribute 'handle_video_resource'",
    "author": "MuJianxuan",
    "state": "open",
    "created_at": "2024-11-25T07:19:16Z",
    "updated_at": "2024-11-25T07:19:16Z",
    "labels": [],
    "body": "AI视频的生成视频点击提示这个\r\nmain_generate_ai_video begin:\r\nmain_generate_video_dubbing begin\r\nuse remote audio\r\n腾讯语音合成任务成功\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nmain_get_video_resource begin\r\nresource_provider: comfyUI\r\nffmpeg -i D:\\Software\\MoneyPrinterPlus\\work\\1732518723255.wav\r\n音频时长: 31\r\naudio_length: 31\r\n2024-11-25 15:11:57.344 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\Python312\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"C:\\Program Files\\Python312\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"C:\\Program Files\\Python312\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"C:\\Program Files\\Python312\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"C:\\Program Files\\Python312\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"D:\\Software\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\n  File \"D:\\Software\\MoneyPrinterPlus\\main.py\", line 295, in main_generate_ai_video\r\n    main_get_video_resource()\r\n  File \"D:\\Software\\MoneyPrinterPlus\\main.py\", line 268, in main_get_video_resource\r\n    return_videos, total_length = resource_service.handle_video_resource(query, audio_length, 50, False)\r\n                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAttributeError: 'NoneType' object has no attribute 'handle_video_resource'",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 15,
    "title": "视频混剪报错",
    "author": "scj725",
    "state": "closed",
    "created_at": "2024-07-18T08:37:58Z",
    "updated_at": "2024-11-22T09:33:58Z",
    "labels": [],
    "body": "File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"E:\\pyCharmProject\\MoneyPrinterPlus\\pages\\02_mix_video.py\", line 83, in generate_video_for_mix\r\n    main_generate_ai_video_for_mix(video_generator)\r\nFile \"E:\\pyCharmProject\\MoneyPrinterPlus\\main.py\", line 342, in main_generate_ai_video_for_mix\r\n    main_generate_subtitle()\r\nFile \"E:\\pyCharmProject\\MoneyPrinterPlus\\main.py\", line 257, in main_generate_subtitle\r\n    generate_caption()\r\nFile \"E:\\pyCharmProject\\MoneyPrinterPlus\\services\\captioning\\captioning_service.py\", line 60, in generate_caption\r\n    captioning.finish()\r\nFile \"E:\\pyCharmProject\\MoneyPrinterPlus\\services\\captioning\\common_captioning_service.py\", line 204, in finish\r\n    for caption in self.captions_from_offline_results():\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"E:\\pyCharmProject\\MoneyPrinterPlus\\services\\captioning\\common_captioning_service.py\", line 187, in captions_from_offline_results\r\n    last_caption = captions[-1]\r\n                   ~~~~~~~~^^^^\r\nIndexError: list index out of range",
    "comments": [
      {
        "user": "ddean2009",
        "body": "完整日志发一下。 两个可能原因： 1.  ffmpeg 版本不对。  2.  某些云服务没有启用。  建议先看我的教程。"
      },
      {
        "user": "scj725",
        "body": "ffmpeg 本地安装了，版本是：14.1.0。python版本是：3.11.8。大模型用的ollama服务，语音用的chatTTS，已经试听过了，没问题，也看到了chatTTS接受了请求，这个时候还要用云服务才能行吗？无论是混剪还是AI自动生成，都是在生成视频字幕的时候报错，没有找到日志文件，报错内容就是：keyword: Keywords: Comedy Videos, Entertainment, Social Impact, Creativity, Global Connection\r\nmain_generate_video_content end\r\nmain_generate_ai_video begin:\r\nmain_generate_video_dubbing begin\r\nuse local audio\r\n{'text': ['标题：爆笑不停，搞笑视频的魅力与影响力\\n\\n在快节奏的现代生活中，人们对于轻松愉快的内容需求日益增长。在这种背 景下，搞笑视频作为一种独特的娱乐形式，以轻松幽默的方式为观众带来欢声笑语和放松心情的机会。本文将深入探讨搞笑视频的魅力、其背后的制作技巧以及它对社会和文化的影响。\\n\\n### 搞笑视频的魅力\\n\\n搞笑视频之所以吸引人，首先在于它们能够快速捕捉并传达情感共鸣。通过夸张的表演、出乎意料的情节设置或是幽默的语言，这些视频能迅速引起观众的会心一笑或捧腹大笑，从而在短时间内释放压力和焦虑。此外，搞笑视频往往具有高度的共享性——人们喜欢与他人分享快乐的瞬间，在社交媒体上转发和评论，使得内容得以快速传播。\\n\\n### 制作技巧揭秘\\n\\n要创作出成功的搞笑视频，制作者不仅需要具备出色的创意能力，还需掌握一定的制作技巧。首先，故事是基础，一个好的故事结构能够为后续幽默元素的植入提供框架；其次，夸张的表现手法可以放大笑点，使观众在视觉和听觉上都能感受到幽默感；此外，适时的剪辑与配乐也非常重要，它们能增强视频的情感张力，并提升整体观赏体验。\\n\\n### 社会影响\\n\\n搞笑视频对社会的影响是多方面的。一方面，它作为一种文化现象，反映了当代社会的价值观、流行趋势和人们的生活态度。通过娱乐的形式探讨严肃话题，使得复杂的问题以易于理解的方式被大众接受。另一方面，搞笑视频的全球传播特性促进了文化的交流与融合，为不同地区的人们提供了共同的幽默语言。\\n\\n### 结语\\n\\n总的来说，搞笑视频以其独特魅力在现代文化中占据一席之地。它不仅满足了人们寻求乐趣的需求，还通过创意和共享的过程促进了社会的多样性和包容性。随着技术的发展和全球化的加深，搞笑视频的影响力还将继续扩大，成为连接人与人、跨越地域界限的重要桥梁。\\n\\n---\\n以上内容阐述了搞笑视频的魅力所在、其背后的制作技巧以及它在社会文化层面 的影响。希望这些洞察能为喜爱搞笑视频的人提供更深层次的理解，并激发更多创作者探索这一领域，创造更多令人捧腹的精彩作品。'], 'stream': False, 'lang': None, 'skip_refine_text': False, 'refine_text_only': False, 'use_decoder': True, 'audio_seed': 20, 'text_seed': 20, 'do_text_normalization': True, 'do_homophone_replacement': False, 'params_refine_text': {'prompt': '', 'top_P': 0.7, 'top_K': 20, 'temperature': 0.3, 'repetition_penalty': 1, 'max_new_token': 384, 'min_new_token': 0, 'show_tqdm': True, 'ensure_non_empty': True, 'stream_batch': 24}, 'params_infer_code': {'prompt': '[speed_5]', 'top_P': 0.7, 'top_K': 20, 'temperature': 0.3, 'repetition_penalty': 1.05, 'max_new_token': 2048, 'min_new_token': 0, 'show_tqdm': True, 'ensure_non_empty': True, 'stream_batch': True, 'spk_emb': None}}\r\nffmpeg version N-116088-ge783e45e29-20240702 Copyright (c) 2000-2024 the FFmpeg developers\r\n  built with gcc 14.1.0 (crosstool-NG 1.26.0.93_a87bf7f)\r\n  configuration: --prefix=/ffbuild/prefix --pkg-config-flags=--static --pkg-config=pkg-config --cross-prefix=x86_64-w64-mingw32- --arch=x86_64 --target-os=mingw32 --enable-gpl --enable-version3 --disable-debug --disable-w32threads --enable-pthreads --enable-iconv --enable-zlib --enable-libfreetype --enable-libfribidi --enable-gmp --enable-libxml2 --enable-fontconfig --enable-libharfbuzz --enable-libvorbis --enable-opencl --disable-libpulse --enable-libvmaf --disable-libxcb --disable-xlib --enable-amf --enable-libaom --enable-libaribb24 --enable-avisynth --enable-chromaprint --enable-libdav1d --enable-libdavs2 --enable-libdvdread --enable-libdvdnav --disable-libfdk-aac --enable-ffnvcodec --enable-cuda-llvm --enable-frei0r --enable-libgme --enable-libkvazaar --enable-libaribcaption --enable-libass --enable-libbluray --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librist --enable-libssh --enable-libtheora --enable-libvpx --enable-libwebp --enable-lv2 --enable-libvpl --enable-openal --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh264 --enable-libopenjpeg --enable-libopenmpt --enable-librav1e --enable-librubberband --enable-schannel --enable-sdl2 --enable-libsoxr --enable-libsrt --enable-libsvtav1 --enable-libtwolame --enable-libuavs3d --disable-libdrm --enable-vaapi --enable-libvidstab --enable-vulkan --enable-libshaderc --enable-libplacebo --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libzimg --enable-libzvbi --extra-cflags=-DLIBTWOLAME_STATIC --extra-cxxflags= --extra-libs=-lgomp --extra-ldflags=-pthread --extra-ldexeflags= --cc=x86_64-w64-mingw32-gcc --cxx=x86_64-w64-mingw32-g++ --ar=x86_64-w64-mingw32-gcc-ar --ranlib=x86_64-w64-mingw32-gcc-ranlib --nm=x86_64-w64-mingw32-gcc-nm --extra-version=20240702\r\n  libavutil      59. 28.100 / 59. 28.100\r\n  libavcodec     61.  9.100 / 61.  9.100\r\n  libavformat    61.  4.100 / 61.  4.100\r\n  libavdevice    61.  2.100 / 61.  2.100\r\n  libavfilter    10.  2.102 / 10.  2.102\r\n  libswscale      8.  2.100 /  8.  2.100\r\n  libswresample   5.  2.100 /  5.  2.100\r\n  libpostproc    58.  2.100 / 58.  2.100\r\nInput #0, mp3, from 'E:\\pyCharmProject\\MoneyPrinterPlus\\work\\0.mp3':\r\n  Metadata:\r\n    encoder         : Lavf60.16.100\r\n  Duration: 00:00:29.50, start: 0.023021, bitrate: 128 kb/s\r\n  Stream #0:0: Audio: mp3 (mp3float), 48000 Hz, stereo, fltp, 128 kb/s\r\n      Metadata:\r\n        encoder         : Lavf\r\nStream mapping:\r\n  Stream #0:0 -> #0:0 (mp3 (mp3float) -> pcm_s16le (native))\r\nPress [q] to stop, [?] for help\r\nOutput #0, wav, to 'E:\\pyCharmProject\\MoneyPrinterPlus\\work\\1721292271501.wav':\r\n  Metadata:\r\n    ISFT            : Lavf61.4.100\r\n  Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s\r\n      Metadata:\r\n        encoder         : Lavc61.9.100 pcm_s16le\r\n[out#0/wav @ 000002388c630140] video:0KiB audio:5526KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: 0.001378%\r\nsize=    5526KiB time=00:00:29.47 bitrate=1536.0kbits/s speed= 143x\r\nExtracted files into E:\\pyCharmProject\\MoneyPrinterPlus\\work\\1721292271501.wav\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: Azure\r\nEncountered error. Cancellation details: CancellationDetails(reason=CancellationReason.Error, error_details=\"Connection failed (no connection to the remote host). Internal error: 1. Error details: Failed with error: WS_OPEN_ERROR_UNDERLYING_IO_OPEN_FAILED\r\nwss://SERVICE_REGION.stt.speech.microsoft.com/speech/universal/v2\r\nX-ConnectionId: 9c29e6cd03a84b998cde5d84bf533636 SessionId: 9c29e6cd03a84b998cde5d84bf533636\")\r\n\r\nSession stopped.\r\n2024-07-18 16:49:19.622 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"E:\\pyCharmProject\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 72, in generate_video\r\n    main_generate_ai_video(video_generator)\r\n  File \"E:\\pyCharmProject\\MoneyPrinterPlus\\main.py\", line 268, in main_generate_ai_video\r\n    main_generate_subtitle()\r\n  File \"E:\\pyCharmProject\\MoneyPrinterPlus\\main.py\", line 257, in main_generate_subtitle\r\n    generate_caption()\r\n  File \"E:\\pyCharmProject\\MoneyPrinterPlus\\services\\captioning\\captioning_service.py\", line 60, in generate_caption\r\n    captioning.finish()\r\n  File \"E:\\pyCharmProject\\MoneyPrinterPlus\\services\\captioning\\common_captioning_service.py\", line 204, in finish\r\n    for caption in self.captions_from_offline_results():\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\pyCharmProject\\MoneyPrinterPlus\\services\\captioning\\common_captioning_service.py\", line 187, in captions_from_offline_results\r\n    last_caption = captions[-1]\r\n                   ~~~~~~~~^^^^\r\nIndexError: list index out of range"
      },
      {
        "user": "ddean2009",
        "body": "TTS可以本地了，但是语音识别功能还需要云服务。 后续会加上本地的语音识别功能。"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 82,
    "title": "配置ok后 点击环境检测没反应 ",
    "author": "AllenW0904",
    "state": "open",
    "created_at": "2024-11-22T03:35:49Z",
    "updated_at": "2024-11-22T03:35:49Z",
    "labels": [],
    "body": "![image](https://github.com/user-attachments/assets/93a5bac3-75f4-4723-bca3-f4bca9d22a38)\r\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 81,
    "title": "执行setip.bat  后  安装 报错 ERROR: No matching distribution found for torch==2.3.1",
    "author": "AllenW0904",
    "state": "closed",
    "created_at": "2024-11-22T02:39:22Z",
    "updated_at": "2024-11-22T03:28:02Z",
    "labels": [],
    "body": "windows  python 3.11.8   ffmpeg 6.1-full_build  \r\n执行setip.bat  后  安装 报错 ERROR: No matching distribution found for torch==2.3.1\r\n\r\n\r\n![企业微信截图_17322431546017](https://github.com/user-attachments/assets/43b293a9-260d-4cf7-8a48-1c6cd7d3bc3d)\r\n",
    "comments": [
      {
        "user": "AllenW0904",
        "body": "python 版本降级后可以了"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 80,
    "title": "背景音乐缺失",
    "author": "cicitutu",
    "state": "open",
    "created_at": "2024-11-21T05:43:27Z",
    "updated_at": "2024-11-21T05:43:27Z",
    "labels": [],
    "body": "换了自己找的背景音乐后只有前3秒有背景音乐。",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 76,
    "title": "web页面报错 ModuleNotFoundError: No module named 'pyaudioop'",
    "author": "lovepoem",
    "state": "open",
    "created_at": "2024-11-02T10:25:30Z",
    "updated_at": "2024-11-19T07:59:53Z",
    "labels": [],
    "body": "ModuleNotFoundError: No module named 'pyaudioop'\r\nTraceback:\r\nFile \"/Users/wx/workspace/MoneyPrinterPlus/venv/lib/python3.13/site-packages/streamlit/runtime/scriptrunner/script_runner.py\", line 600, in _run_script\r\n    exec(code, module.__dict__)\r\n    ~~~~^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"/Users/wx/workspace/MoneyPrinterPlus/pages/01_auto_video.py\", line 28, in <module>\r\n    from main import main_generate_video_content, main_generate_ai_video, main_generate_video_dubbing, \\\r\n        main_get_video_resource, main_generate_subtitle, main_try_test_audio, get_audio_voices, main_try_test_local_audio, \\\r\n        main_generate_ai_video_from_img\r\nFile \"/Users/wx/workspace/MoneyPrinterPlus/main.py\", line 29, in <module>\r\n    from services.audio.alitts_service import AliAudioService\r\nFile \"/Users/wx/workspace/MoneyPrinterPlus/services/audio/alitts_service.py\", line 26, in <module>\r\n    from pydub import AudioSegment\r\nFile \"/Users/wx/workspace/MoneyPrinterPlus/venv/lib/python3.13/site-packages/pydub/__init__.py\", line 1, in <module>\r\n    from .audio_segment import AudioSegment\r\nFile \"/Users/wx/workspace/MoneyPrinterPlus/venv/lib/python3.13/site-packages/pydub/audio_segment.py\", line 11, in <module>\r\n    from .utils import mediainfo_json, fsdecode\r\nFile \"/Users/wx/workspace/MoneyPrinterPlus/venv/lib/python3.13/site-packages/pydub/utils.py\", line 16, in <module>\r\n    import pyaudioop as audioop\r\n\r\n<img width=\"1441\" alt=\"image\" src=\"https://github.com/user-attachments/assets/83ff37fc-fe9c-4813-a763-23a5dba9e02b\">\r\n\r\n",
    "comments": [
      {
        "user": "icycommond",
        "body": "遇到同样的问题，切换到3.12后解决了"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 37,
    "title": "No videos found.",
    "author": "sixll",
    "state": "closed",
    "created_at": "2024-09-06T04:08:13Z",
    "updated_at": "2024-11-16T13:06:26Z",
    "labels": [],
    "body": "请先生成视频资源文件\r\n![73da57900c5e1f19f62d22229ba34e1](https://github.com/user-attachments/assets/9bd54003-6f8d-42fa-95d2-fd5ceec4b2ae)\r\n\r\nmain_get_video_resource begin\r\nresource_provider: pexels\r\nffmpeg -i E:\\AIjj\\MoneyPrinterPlus-main\\work\\1725595544451.wav\r\n音频时长: 147\r\naudio_length: 147\r\nNo videos found.",
    "comments": [
      {
        "user": "sixll",
        "body": "配置的 pexels的key  还是这个问题"
      },
      {
        "user": "ddean2009",
        "body": "全部截图看看， 少配置了东西吧 "
      },
      {
        "user": "greytrackk",
        "body": "![微信图片_20240919203234](https://github.com/user-attachments/assets/6853a287-17e8-4554-bbc3-58079859bd25)\r\n![微信图片_202409192032341](https://github.com/user-attachments/assets/94f59ba8-5789-4e9d-9334-37b47fcba6d7)\r\n我也是这个报错\r\n"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 66,
    "title": "语音试听不了",
    "author": "1002SHIB",
    "state": "closed",
    "created_at": "2024-10-10T08:46:59Z",
    "updated_at": "2024-11-16T13:05:21Z",
    "labels": [],
    "body": "CalledProcessError: Command '['ffmpeg', '-i', 'C:\\\\Users\\\\pc\\\\Desktop\\\\MoneyPrinterPlus-main\\\\MoneyPrinterPlus-main\\\\work\\\\1728549995156.wav', '-af', 'apad=pad_dur=2', 'C:\\\\Users\\\\pc\\\\Desktop\\\\MoneyPrinterPlus-main\\\\MoneyPrinterPlus-main\\\\work\\\\1728549995156.temp.wav']' returned non-zero exit status 4294967294.\r\nTraceback:\r\nFile \"C:\\Users\\pc\\Desktop\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"C:\\Users\\pc\\Desktop\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"C:\\Users\\pc\\Desktop\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"C:\\Users\\pc\\Desktop\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"C:\\Users\\pc\\Desktop\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"C:\\Users\\pc\\Desktop\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\pages\\01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"C:\\Users\\pc\\Desktop\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\main.py\", line 291, in main_generate_ai_video\r\n    main_generate_video_dubbing()\r\nFile \"C:\\Users\\pc\\Desktop\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\main.py\", line 177, in main_generate_video_dubbing\r\n    extent_audio(audio_output_file, 2)\r\nFile \"C:\\Users\\pc\\Desktop\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\tools\\utils.py\", line 162, in extent_audio\r\n    subprocess.run(command, capture_output=True, check=True)\r\nFile \"D:\\YAN\\python10\\setup\\lib\\subprocess.py\", line 524, in run\r\n    raise CalledProcessError(retcode, process.args,请问有遇到嘛？",
    "comments": [
      {
        "user": "fanglinwang",
        "body": "1. 可能你ali云 apikey没有配好，\r\n2. 可能python SSL certification没有弄，解决方案\r\nhttps://stackoverflow.com/questions/50236117/scraping-ssl-certificate-verify-failed-error-for-http-en-wikipedia-org"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 72,
    "title": "按照教程安装完毕后，语音用的是腾讯云的KEY。语音可以试听也扣了点数，但运行出现附件的错误，求帮助",
    "author": "tanianarsha",
    "state": "closed",
    "created_at": "2024-10-24T11:27:21Z",
    "updated_at": "2024-11-16T13:05:08Z",
    "labels": [],
    "body": "按照教程安装完毕后，语音用的是腾讯云的KEY。输入appID这些后，语音可以试听也扣了点数，但运行出现附件的错误，求帮助\r\n\r\n![微信图片_20241024192435](https://github.com/user-attachments/assets/a1569582-83cd-49b4-b645-c1431807c681)\r\n",
    "comments": [
      {
        "user": "ddean2009",
        "body": "python没装好吧 \r\n"
      },
      {
        "user": "tanianarsha",
        "body": "FFMPEG的问题，弄好了不过微软云又出错了"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 73,
    "title": "Azure申请开通了但调用失败，微软的语音能用么",
    "author": "tanianarsha",
    "state": "closed",
    "created_at": "2024-10-25T11:49:47Z",
    "updated_at": "2024-11-16T13:04:44Z",
    "labels": [],
    "body": "配置好后调用Azure失败。微软的语音可以在国内用么？\r\n\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: Azure\r\nEncountered error. Cancellation details: CancellationDetails(reason=CancellationReason.Error, error_details=\"Connection failed (no connection to the remote host). Internal error: 1. Error details: Failed with error: WS_OPEN_ERROR_UNDERLYING_IO_OPEN_FAILED\r\n\r\n\r\nIndexError: list index out of range\r\n",
    "comments": [
      {
        "user": "9ihbd2DZSMjtsf7vecXjz",
        "body": "需要自己开azure账户弄配音密钥,特别容易被封,特别费劲,只能花钱买别人弄好的配音key调用微软. 太坑了花了很多冤枉钱"
      },
      {
        "user": "ddean2009",
        "body": "必须可以用。"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 78,
    "title": "这个怎么破啊，一点都不懂",
    "author": "chennnnchennnn-art",
    "state": "closed",
    "created_at": "2024-11-11T15:04:29Z",
    "updated_at": "2024-11-16T13:02:37Z",
    "labels": [],
    "body": "\r\n![微信图片_20241111230352](https://github.com/user-attachments/assets/e9bdaa9c-6d1f-4035-8b8d-c9c139b79153)\r\n这个怎么破啊，一点都不懂\r\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 42,
    "title": "CalledProcessError: Command '['ffmpeg', '-i', 'D:\\\\workspaces\\\\MoneyPrinterPlus\\\\work\\\\1725969299247.wav', '-af', 'apad=pad_dur=2', 'D:\\\\workspaces\\\\MoneyPrinterPlus\\\\work\\\\1725969299247.temp.wav']' returned non-zero exit status 3199971767.",
    "author": "guiyu",
    "state": "closed",
    "created_at": "2024-09-10T11:56:33Z",
    "updated_at": "2024-11-15T10:22:49Z",
    "labels": [],
    "body": "CalledProcessError: Command '['ffmpeg', '-i', 'D:\\\\workspaces\\\\MoneyPrinterPlus\\\\work\\\\1725969299247.wav', '-af', 'apad=pad_dur=2', 'D:\\\\workspaces\\\\MoneyPrinterPlus\\\\work\\\\1725969299247.temp.wav']' returned non-zero exit status 3199971767.\r\n\r\n看了下1725969299247.temp.wav 这个文件大小为0，请问是哪一步生成的临时音频文件，又为什么为空呢？",
    "comments": [
      {
        "user": "guiyu",
        "body": "Traceback:\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\main.py\", line 291, in main_generate_ai_video\r\n    main_generate_video_dubbing()\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\main.py\", line 177, in main_generate_video_dubbing\r\n    extent_audio(audio_output_file, 2)\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\tools\\utils.py\", line 162, in extent_audio\r\n    subprocess.run(command, capture_output=True, check=True)\r\nFile \"C:\\Users\\Weiyi\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\subprocess.py\", line 571, in run\r\n    raise CalledProcessError(retcode, process.args,"
      },
      {
        "user": "guiyu",
        "body": "这个问题已经解决，问题的原因在于chatTTS配置问题导致，解决之后就没问题了。"
      },
      {
        "user": "ziyekudeng",
        "body": "![image](https://github.com/user-attachments/assets/71d3748d-0145-4110-bfe7-205593d8bdb2)\r\n修复方式如图"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 77,
    "title": "生成字幕时候出错，之前还运行正常的。本人不懂代码，麻烦帮忙给看看是什么问题。",
    "author": "tanianarsha",
    "state": "open",
    "created_at": "2024-11-08T13:21:01Z",
    "updated_at": "2024-11-08T13:21:01Z",
    "labels": [],
    "body": "运行到字幕就出错。之前还能正常生成字幕的。\r\n\r\n\r\n\r\nJSONDecodeError: Expecting value: line 1 column 1 (char 0)\r\nTraceback:\r\nFile \"D:\\MoneyPrinterPlus\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"D:\\MoneyPrinterPlus\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"D:\\MoneyPrinterPlus\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"D:\\MoneyPrinterPlus\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"D:\\MoneyPrinterPlus\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"D:\\MoneyPrinterPlus\\MoneyPrinterPlus\\pages\\02_mix_video.py\", line 95, in generate_video_for_mix\r\n    main_generate_ai_video_for_mix(video_generator)\r\nFile \"D:\\MoneyPrinterPlus\\MoneyPrinterPlus\\main.py\", line 367, in main_generate_ai_video_for_mix\r\n    main_generate_subtitle()\r\nFile \"D:\\MoneyPrinterPlus\\MoneyPrinterPlus\\main.py\", line 282, in main_generate_subtitle\r\n    generate_caption()\r\nFile \"D:\\MoneyPrinterPlus\\MoneyPrinterPlus\\services\\captioning\\captioning_service.py\", line 81, in generate_caption\r\n    result_list = tencent_service.process(get_session_option(\"audio_output_file\"),\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"D:\\MoneyPrinterPlus\\MoneyPrinterPlus\\services\\audio\\tencent_recognition_service.py\", line 81, in process\r\n    resp = json.loads(resultData)\r\n           ^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2032.0_x64__qbz5n2kfra8p0\\Lib\\json\\__init__.py\", line 346, in loads\r\n    return _default_decoder.decode(s)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2032.0_x64__qbz5n2kfra8p0\\Lib\\json\\decoder.py\", line 337, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2032.0_x64__qbz5n2kfra8p0\\Lib\\json\\decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 26,
    "title": "这是什么问题呀，求大佬指教！感谢感谢！！！",
    "author": "Ch712",
    "state": "closed",
    "created_at": "2024-08-06T16:48:41Z",
    "updated_at": "2024-10-17T09:48:17Z",
    "labels": [],
    "body": "IndexError: list index out of range\r\nTraceback:\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\pages\\01_auto_video.py\", line 66, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\main.py\", line 268, in main_generate_ai_video\r\n    main_generate_subtitle()\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\main.py\", line 257, in main_generate_subtitle\r\n    generate_caption()\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\services\\captioning\\captioning_service.py\", line 75, in generate_caption\r\n    captioning.finish()\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\services\\captioning\\common_captioning_service.py\", line 204, in finish\r\n    for caption in self.captions_from_offline_results():\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"D:\\MoneyPrinterPlus-main\\MoneyPrinterPlus-main\\services\\captioning\\common_captioning_service.py\", line 187, in captions_from_offline_results\r\n    last_caption = captions[-1]\r\n                   ~~~~~~~~^^^^\r\n",
    "comments": [
      {
        "user": "ddean2009",
        "body": "完整日志发一下， 这种一般是字幕没生成。 原因是云服务有些功能没开。 "
      },
      {
        "user": "todrinkhotwater",
        "body": "我和他的报错一样 ，是按照操作一步一步来的目前排查不出来哪里api有问题 \r\n是因为Azure AI services 那边的吗\r\n这边api采用有点疑惑但是还不太懂怎么做\r\n![image](https://github.com/user-attachments/assets/6ddf42f6-cc2a-4faf-89df-6f59755ed087)\r\n\r\n\r\n完整如下\r\nActive code page: 65001\r\nvenv dir exist\r\n\r\n      Welcome to Streamlit!\r\n\r\n      If you’d like to receive helpful onboarding emails, news, offers, promotions,\r\n      and the occasional swag, please enter your email address below. Otherwise,\r\n      leave this field blank.\r\n\r\n      Email:  hotwater@gmail.com\r\n\r\n  You can find our privacy policy at https://streamlit.io/privacy-policy\r\n\r\n  Summary:\r\n  - This open source library collects usage statistics.\r\n  - We cannot see and do not store information contained inside Streamlit apps,\r\n    such as text, charts, images, etc.\r\n  - Telemetry data is stored in servers in the United States.\r\n  - If you'd like to opt out, add the following to %userprofile%/.streamlit/config.toml,\r\n    creating that file if necessary:\r\n\r\n    [browser]\r\n    gatherUsageStats = false\r\n\r\n\r\n  You can now view your Streamlit app in your browser.\r\n\r\n  URL: http://localhost:8501\r\n\r\nload_config\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\nC:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\alinls\\core.py:138: SyntaxWarning: \"is\" with 'str' literal. Did you mean \"==\"?\r\n  if which is 'on_close':\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\nmain_try_test_audio begin\r\nSpeech synthesized to speaker for ssml\r\nmain_generate_ai_video begin:\r\nmain_generate_video_dubbing begin\r\nuse remote audio\r\nC:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\work\\1723184836393.wav\r\nSpeech synthesized for text [\r\n        <speak xmlns=\"http://www.w3.org/2001/10/synthesis\" xmlns:mstts=\"http://www.w3.org/2001/mstts\" xmlns:emo=\"http://www.w3.org/2009/10/emotionml\" version=\"1.0\" xml:lang=\"en-US\">\r\n        <voice name=\"en-US-EmmaNeural\">\r\n            <prosody rate=\"0.00%\">\r\n                A glass of warm water awakens the body, hydrating the start of the day.\r\nJust 10 minutes of simple exercise daily keeps you energized and strong.\r\nA balanced breakfast fuels your body with essential nutrients for a productive day.\r\nMaintain a positive mindset and smile at life each day.\r\nA regular sleep schedule allows your body the time it needs to recover, ensuring quality rest.\r\nA healthy life starts with every small detail. Let’s support each other in sharing a beautiful life.\r\nStart your healthy lifestyle now!\r\n            </prosody>\r\n        </voice>\r\n        </speak>\r\n        ], and the audio was saved to [C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\work\\1723184836393.wav]\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: Azure\r\nEncountered error. Cancellation details: CancellationDetails(reason=CancellationReason.Error, error_details=\"Connection failed (no connection to the remote host). Internal error: 1. Error details: Failed with error: WS_OPEN_ERROR_UNDERLYING_IO_OPEN_FAILED\r\nwss://SERVICE_REGION.stt.speech.microsoft.com/speech/universal/v2\r\nX-ConnectionId: 0e258339a26743188c1b7b2aca9f6338 SessionId: 0e258339a26743188c1b7b2aca9f6338\")\r\n\r\nSession stopped.\r\n2024-08-09 00:27:16.590 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\pages\\01_auto_video.py\", line 66, in generate_video\r\n    main_generate_ai_video(video_generator)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\main.py\", line 268, in main_generate_ai_video\r\n    main_generate_subtitle()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\main.py\", line 257, in main_generate_subtitle\r\n    generate_caption()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\captioning_service.py\", line 75, in generate_caption\r\n    captioning.finish()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\common_captioning_service.py\", line 204, in finish\r\n    for caption in self.captions_from_offline_results():\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\common_captioning_service.py\", line 187, in captions_from_offline_results\r\n    last_caption = captions[-1]\r\n                   ~~~~~~~~^^^^\r\nIndexError: list index out of range\r\nMoonshot\r\nmain_generate_video_content begin\r\nllm_provider: Moonshot\r\nkeyword: health, morning routine, exercise, balanced breakfast, positive mindset\r\nmain_generate_video_content end\r\nmain_generate_ai_video begin:\r\nmain_generate_video_dubbing begin\r\nuse remote audio\r\nC:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\work\\1723185009273.wav\r\nSpeech synthesized for text [\r\n        <speak xmlns=\"http://www.w3.org/2001/10/synthesis\" xmlns:mstts=\"http://www.w3.org/2001/mstts\" xmlns:emo=\"http://www.w3.org/2009/10/emotionml\" version=\"1.0\" xml:lang=\"en-US\">\r\n        <voice name=\"zh-CN-XiaoxiaoNeural\">\r\n            <prosody rate=\"0.00%\">\r\n                zh-CN:\r\n\r\n新的一天，健康生活从清晨开始。当第一缕阳光透过窗帘，我们迎来了新的一天。这个时候，是开始健康生活的绝佳时机。首先，养成早起的习惯，让身体在清晨的空气中得到充分的休息和恢复。接着，进行适当的晨练，如散步、慢跑或瑜伽，以唤醒身体，增强体力。\r\n\r\n此外，早餐也是健康生活的重要组成部分。选择营养均衡的早餐，如全麦面包、鸡蛋、牛奶和新鲜水果，为身体提供所需的能量和营养。同时，保持积极的心态，以乐观的心情迎接新的挑战。\r\n\r\n最后，合理安排一天的工作和生活，避免过度劳累，保证充足的休息和睡眠。这样，我们就能以健康的身体和愉悦的心情，迎接每一个新的早晨，享受美好的生活。\r\n            </prosody>\r\n        </voice>\r\n        </speak>\r\n        ], and the audio was saved to [C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\work\\1723185009273.wav]\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: Azure\r\nEncountered error. Cancellation details: CancellationDetails(reason=CancellationReason.Error, error_details=\"Connection failed (no connection to the remote host). Internal error: 1. Error details: Failed with error: WS_OPEN_ERROR_UNDERLYING_IO_OPEN_FAILED\r\nwss://SERVICE_REGION.stt.speech.microsoft.com/speech/universal/v2\r\nX-ConnectionId: d991d56f5c244b05b5d6a289beb34ddd SessionId: d991d56f5c244b05b5d6a289beb34ddd\")\r\n\r\nSession stopped.\r\n2024-08-09 00:30:10.467 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\pages\\01_auto_video.py\", line 66, in generate_video\r\n    main_generate_ai_video(video_generator)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\main.py\", line 268, in main_generate_ai_video\r\n    main_generate_subtitle()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\main.py\", line 257, in main_generate_subtitle\r\n    generate_caption()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\captioning_service.py\", line 75, in generate_caption\r\n    captioning.finish()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\common_captioning_service.py\", line 204, in finish\r\n    for caption in self.captions_from_offline_results():\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\common_captioning_service.py\", line 187, in captions_from_offline_results\r\n    last_caption = captions[-1]\r\n                   ~~~~~~~~^^^^\r\nIndexError: list index out of range\r\nmain_generate_ai_video begin:\r\nmain_generate_video_dubbing begin\r\nuse remote audio\r\nC:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\work\\1723189076037.wav\r\nSpeech synthesized for text [\r\n        <speak xmlns=\"http://www.w3.org/2001/10/synthesis\" xmlns:mstts=\"http://www.w3.org/2001/mstts\" xmlns:emo=\"http://www.w3.org/2009/10/emotionml\" version=\"1.0\" xml:lang=\"en-US\">\r\n        <voice name=\"zh-CN-XiaoxiaoNeural\">\r\n            <prosody rate=\"0.00%\">\r\n                zh-CN:\r\n\r\n新的一天，健康生活从清晨开始。当第一缕阳光透过窗帘，我们迎来了新的一天。这个时候，是开始健康生活的绝佳时机。首先，养成早起的习惯，让身体在清晨的空气中得到充分的休息和恢复。接着，进行适当的晨练，如散步、慢跑或瑜伽，以唤醒身体，增强体力。\r\n\r\n此外，早餐也是健康生活的重要组成部分。选择营养均衡的早餐，如全麦面包、鸡蛋、牛奶和新鲜水果，为身体提供所需的能量和营养。同时，保持积极的心态，以乐观的心情迎接新的挑战。\r\n\r\n最后，合理安排一天的工作和生活，避免过度劳累，保证充足的休息和睡眠。这样，我们就能以健康的身体和愉悦的心情，迎接每一个新的早晨，享受美好的生活。\r\n            </prosody>\r\n        </voice>\r\n        </speak>\r\n        ], and the audio was saved to [C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\work\\1723189076037.wav]\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: Azure\r\nEncountered error. Cancellation details: CancellationDetails(reason=CancellationReason.Error, error_details=\"Connection failed (no connection to the remote host). Internal error: 1. Error details: Failed with error: WS_OPEN_ERROR_UNDERLYING_IO_OPEN_FAILED\r\nwss://SERVICE_REGION.stt.speech.microsoft.com/speech/universal/v2\r\nX-ConnectionId: 4e48c21a3e81441fa6f345510dd47df0 SessionId: 4e48c21a3e81441fa6f345510dd47df0\")\r\n\r\nSession stopped.\r\n2024-08-09 01:37:55.342 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\pages\\01_auto_video.py\", line 66, in generate_video\r\n    main_generate_ai_video(video_generator)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\main.py\", line 268, in main_generate_ai_video\r\n    main_generate_subtitle()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\main.py\", line 257, in main_generate_subtitle\r\n    generate_caption()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\captioning_service.py\", line 75, in generate_caption\r\n    captioning.finish()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\common_captioning_service.py\", line 204, in finish\r\n    for caption in self.captions_from_offline_results():\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\common_captioning_service.py\", line 187, in captions_from_offline_results\r\n    last_caption = captions[-1]\r\n                   ~~~~~~~~^^^^\r\nIndexError: list index out of range\r\nmain_generate_video_content begin\r\nllm_provider: Moonshot\r\nkeyword: Healthy living, morning habits, exercise, nutrition, positive mindset, regular sleep\r\nmain_generate_video_content end\r\nmain_generate_ai_video begin:\r\nmain_generate_video_dubbing begin\r\nuse remote audio\r\nC:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\work\\1723189288996.wav\r\nSpeech synthesized for text [\r\n        <speak xmlns=\"http://www.w3.org/2001/10/synthesis\" xmlns:mstts=\"http://www.w3.org/2001/mstts\" xmlns:emo=\"http://www.w3.org/2009/10/emotionml\" version=\"1.0\" xml:lang=\"en-US\">\r\n        <voice name=\"zh-CN-XiaoxiaoNeural\">\r\n            <prosody rate=\"0.00%\">\r\n                zh-CN: 健康生活始于晨间习惯。每天早晨，进行适量的运动，如散步或瑜伽，有助于唤醒身体，提高新陈代谢。同时 ，保持营养饮食，选择新鲜蔬果、全谷物和优质蛋白质，为身体提供必需的营养。此外，保持积极心态，面对挑战时保持乐观，有助于减轻压力，提高生活质量。最后，规律作息，确保每晚获得充足的睡眠，有助于身体恢复和精神焕发。通过这些简单的习惯，我们可以迈向更健康、更快乐的生活。\r\n            </prosody>\r\n        </voice>\r\n        </speak>\r\n        ], and the audio was saved to [C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\work\\1723189288996.wav]\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: Azure\r\nEncountered error. Cancellation details: CancellationDetails(reason=CancellationReason.Error, error_details=\"Connection failed (no connection to the remote host). Internal error: 1. Error details: Failed with error: WS_OPEN_ERROR_UNDERLYING_IO_OPEN_FAILED\r\nwss://SERVICE_REGION.stt.speech.microsoft.com/speech/universal/v2\r\nX-ConnectionId: 93b74a1b551d499dace5c7b1177ea92b SessionId: 93b74a1b551d499dace5c7b1177ea92b\")\r\n\r\nSession stopped.\r\n2024-08-09 01:41:31.071 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\pages\\01_auto_video.py\", line 66, in generate_video\r\n    main_generate_ai_video(video_generator)\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\main.py\", line 268, in main_generate_ai_video\r\n    main_generate_subtitle()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\main.py\", line 257, in main_generate_subtitle\r\n    generate_caption()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\captioning_service.py\", line 75, in generate_caption\r\n    captioning.finish()\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\common_captioning_service.py\", line 204, in finish\r\n    for caption in self.captions_from_offline_results():\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\admin\\apps\\MoneyPrinterPlus-4.2\\services\\captioning\\common_captioning_service.py\", line 187, in captions_from_offline_results\r\n    last_caption = captions[-1]\r\n                   ~~~~~~~~^^^^\r\nIndexError: list index out of range\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\nMoonshot\r\n"
      },
      {
        "user": "ddean2009",
        "body": "SERVICE_REGION  ，微软的region没有填。 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 23,
    "title": "IndexError: list index out of range是什么原因啊",
    "author": "xin1718734",
    "state": "open",
    "created_at": "2024-08-02T05:47:43Z",
    "updated_at": "2024-10-15T03:23:49Z",
    "labels": [],
    "body": "IndexError: list index out of range",
    "comments": [
      {
        "user": "zy1455927912",
        "body": "请问该问题解决了吗?"
      },
      {
        "user": "michael7908",
        "body": "我也遇到了同样的问题。盼解答，谢谢"
      },
      {
        "user": "yibainian5",
        "body": "同样的问题"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 70,
    "title": "配置好后输入参数直接运行报错",
    "author": "zabio",
    "state": "closed",
    "created_at": "2024-10-13T04:24:03Z",
    "updated_at": "2024-10-13T18:08:30Z",
    "labels": [],
    "body": "![dc6a00835908e4f5a467731e8a849ec](https://github.com/user-attachments/assets/12570f4a-a884-4a4d-af0a-0e2913610cf8)\r\n",
    "comments": [
      {
        "user": "zabio",
        "body": "阿里云需要升级为商用"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 69,
    "title": "Cannot change language",
    "author": "Joly0",
    "state": "open",
    "created_at": "2024-10-12T19:57:41Z",
    "updated_at": "2024-10-12T19:57:41Z",
    "labels": [],
    "body": "I am trying to change language to english, but doesnt work. It stays in chinese i guess. I see the webage reloads for a split second but nothing changes.",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 67,
    "title": "添加字幕报错",
    "author": "UknowHui",
    "state": "closed",
    "created_at": "2024-10-10T11:08:38Z",
    "updated_at": "2024-10-12T00:53:37Z",
    "labels": [],
    "body": "\r\n语音云服务使用的azure\r\n\r\n目前已经正常,可能是因为azure服务开通需要一点时间",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 68,
    "title": "通过Dockerfile构建的镜像不满足ffmpeg>6.0",
    "author": "Tebby0753",
    "state": "open",
    "created_at": "2024-10-11T06:38:39Z",
    "updated_at": "2024-10-11T06:39:33Z",
    "labels": [],
    "body": "如题：通过Dockerfile构建的镜像不满足ffmpeg>6.0\r\n![image](https://github.com/user-attachments/assets/281f8714-0ba2-4138-95e0-a5e1d886b2d7)\r\n",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 35,
    "title": "UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd3 in position 2391: invalid continuation byte",
    "author": "misslou",
    "state": "open",
    "created_at": "2024-09-05T16:40:36Z",
    "updated_at": "2024-10-10T07:52:48Z",
    "labels": [],
    "body": "[libx264 @ 0x7f7e41106500] ref B L1: 98.3%  1.7%\r\n[libx264 @ 0x7f7e41106500] kb/s:3272.18\r\nffmpeg -i /Users/loubin/Desktop/MoneyPrinterPlus/final/final-1725553564523.mp4 -i /Users/loubin/Desktop/MoneyPrinterPlus/work/1725553161797.wav -c:v copy -c:a aac -strict experimental -map 0:v:0 -map 1:a:0 -shortest -y /Users/loubin/Desktop/MoneyPrinterPlus/final/final-1725553564523.temp.mp4\r\n['ffmpeg', '-i', '/Users/loubin/Desktop/MoneyPrinterPlus/final/final-1725553564523.mp4', '-i', '/Users/loubin/Desktop/MoneyPrinterPlus/bgmusic/2.mp3', '-filter_complex', '[1:a]aloop=loop=0:size=100M[bgm];[bgm]volume=0.3[bgm_vol];[0:a][bgm_vol]amix=duration=first:dropout_transition=3:inputs=2[a]', '-map', '0:v', '-map', '[a]', '-c:v', 'copy', '-shortest', '/Users/loubin/Desktop/MoneyPrinterPlus/final/final-1725553564523.temp.mp4']\r\n2024-09-06 00:26:59.196 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"/usr/local/anaconda3/envs/plus/lib/python3.11/site-packages/streamlit/runtime/scriptrunner/script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"/usr/local/anaconda3/envs/plus/lib/python3.11/site-packages/streamlit/runtime/state/safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"/usr/local/anaconda3/envs/plus/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"/usr/local/anaconda3/envs/plus/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"/usr/local/anaconda3/envs/plus/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"/Users/loubin/Desktop/MoneyPrinterPlus/pages/01_auto_video.py\", line 75, in generate_video\r\n    main_generate_ai_video(video_generator)\r\n  File \"/Users/loubin/Desktop/MoneyPrinterPlus/main.py\", line 302, in main_generate_ai_video\r\n    video_file = video_service.generate_video_with_audio()\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/loubin/Desktop/MoneyPrinterPlus/services/video/video_service.py\", line 512, in generate_video_with_audio\r\n    add_background_music(merge_video, self.background_music, self.background_music_volume)\r\n  File \"/Users/loubin/Desktop/MoneyPrinterPlus/services/video/video_service.py\", line 192, in add_background_music\r\n    subprocess.run(command, capture_output=True, text=True)\r\n  File \"/usr/local/anaconda3/envs/plus/lib/python3.11/subprocess.py\", line 548, in run\r\n    stdout, stderr = process.communicate(input, timeout=timeout)\r\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/local/anaconda3/envs/plus/lib/python3.11/subprocess.py\", line 1205, in communicate\r\n    stdout, stderr = self._communicate(input, endtime, timeout)\r\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/local/anaconda3/envs/plus/lib/python3.11/subprocess.py\", line 2099, in _communicate\r\n    stderr = self._translate_newlines(stderr,\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/local/anaconda3/envs/plus/lib/python3.11/subprocess.py\", line 1082, in _translate_newlines\r\n    data = data.decode(encoding, errors)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xd3 in position 2391: invalid continuation byte\r\nMoonshot",
    "comments": [
      {
        "user": "ddean2009",
        "body": "看起来好像有非UTF-8 编码的文本文件。  全部日志发一下看看？ "
      },
      {
        "user": "Tebby0753",
        "body": "> 看起来好像有非 UTF-8 编码的文本文件。全部日志发一下看看？\r\n....\r\ncore_on_data opcode=2\r\n__syn_core_on_data\r\ncore_on_msg:{\"header\":{\"namespace\":\"SpeechSynthesizer\",\"name\":\"SynthesisCompleted\",\"status\":20000000,\"message_id\":\"15a3e53e3561454aba22b1a4a5b6b5df\",\"task_id\":\"a5d2c1ea5bdb4cebaffba9409b7f984d\",\"status_text\":\"Gateway:SUCCESS:Success.\"}}\r\n__syn_core_on_msg:msg={\"header\":{\"namespace\":\"SpeechSynthesizer\",\"name\":\"SynthesisCompleted\",\"status\":20000000,\"message_id\":\"15a3e53e3561454aba22b1a4a5b6b5df\",\"task_id\":\"a5d2c1ea5bdb4cebaffba9409b7f984d\",\"status_text\":\"Gateway:SUCCESS:Success.\"}} args=()\r\n__handle_message\r\n__synthesis_completed\r\n__synthesis_completed shutdown done\r\non_completed:args=>('',) message=>{\"header\":{\"namespace\":\"SpeechSynthesizer\",\"name\":\"SynthesisCompleted\",\"status\":20000000,\"message_id\":\"15a3e53e3561454aba22b1a4a5b6b5df\",\"task_id\":\"a5d2c1ea5bdb4cebaffba9409b7f984d\",\"status_text\":\"Gateway:SUCCESS:Success.\"}}\r\ncore_on_close\r\n__sr_core_on_close\r\non_close: args=>('',)\r\nali tts done with result:None\r\nws exit...\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: Ali\r\nResponse status and response reason:\r\n200 OK\r\nRecognize response is:\r\n{'task_id': '13142ef79c7f49b887e5ee9df00f7b01', 'result': '', 'status': 20000000, 'message': 'SUCCESS', 'flash_result': {'duration': 16821, 'completed': True, 'sentences': [{'text': '探索人工智能的未来，', 'begin_time': 0, 'end_time': 2021, 'channel_id': 0}, {'text': '发展ai技术在医疗、金融、教育等领域的应用，', 'begin_time': 2021, 'end_time': 6064, 'channel_id': 0}, {'text': '以及对人类生活的影响，', 'begin_time': 6064, 'end_time': 8310, 'channel_id': 0}, {'text': '了解ai的基本原理和发展历程，', 'begin_time': 8310, 'end_time': 11230, 'channel_id': 0}, {'text': '探讨人工智能对社会和生活的改变。', 'begin_time': 11230, 'end_time': 14600, 'channel_id': 0}], 'latency': 1391}}\r\n1\r\n00:00:00,000 --> 00:00:02,021\r\n探索人工智能的未来，\r\n\r\n2\r\n00:00:02,021 --> 00:00:06,064\r\n发展ai技术在医疗、金融、教育等领域的应用，\r\n\r\n3\r\n00:00:06,064 --> 00:00:08,310\r\n以及对人类生活的影响，\r\n\r\n4\r\n00:00:08,310 --> 00:00:11,230\r\n了解ai的基本原理和发展历程，\r\n\r\n5\r\n00:00:11,230 --> 00:00:15,600\r\n探讨人工智能对社会和生活的改变。\r\n\r\nmain_get_video_resource begin\r\nresource_provider: pexels\r\nffmpeg -i /root/dist/MoneyPrinterPlus/work/1728546135914.wav\r\n音频时长: 16\r\naudio_length: 16\r\nvideo_duration: 24\r\ntotal length: 0 audio length: 16\r\nmatch: {'id': 10673412, 'quality': 'hd', 'file_type': 'video/mp4', 'width': 1080, 'height': 1920, 'fps': 25.0, 'link': 'https://videos.pexels.com/video-files/8058101/8058101-hd_1080_1920_25fps.mp4', 'size': 8864870}\r\nvideo_duration: 10\r\ntotal length: 10 audio length: 16\r\nmatch: {'id': 11125248, 'quality': 'uhd', 'file_type': 'video/mp4', 'width': 2160, 'height': 3840, 'fps': 23.97599983215332, 'link': 'https://videos.pexels.com/video-files/9515580/9515580-uhd_2160_3840_24fps.mp4', 'size': 17210784}\r\nvideo_duration: 17\r\ntotal length: 19.0 audio length: 16\r\ndownload video\r\nVideo downloaded successfully: /root/dist/MoneyPrinterPlus/resource/pexels-8058101-hd_1080_1920_25fps.mp4\r\ndownload video\r\nVideo downloaded successfully: /root/dist/MoneyPrinterPlus/resource/pexels-9515580-uhd_2160_3840_24fps.mp4\r\nnormalize video\r\nffprobe -i /root/dist/MoneyPrinterPlus/resource/pexels-8058101-hd_1080_1920_25fps.mp4 -show_entries format=duration\r\n视频时长: 23.64\r\nffprobe -v error -select_streams v:0 -show_entries stream=width,height -of default=noprint_wrappers=1:nokey=1 /root/dist/MoneyPrinterPlus/resource/pexels-8058101-hd_1080_1920_25fps.mp4\r\nWidth: 720, Height: 1280\r\nffmpeg -i /root/dist/MoneyPrinterPlus/resource/pexels-8058101-hd_1080_1920_25fps.mp4 -r 20 -an -t 10 -vf scale=1080:-1:force_original_aspect_ratio=1,crop=1080:1920:(ow-iw)/2:(oh-ih)/2 -y /root/dist/MoneyPrinterPlus/work/pexels-8058101-hd_1080_1920_25fps.temp.mp4\r\nCommand executed successfully.\r\nffprobe -i /root/dist/MoneyPrinterPlus/resource/pexels-9515580-uhd_2160_3840_24fps.mp4 -show_entries format=duration\r\n视频时长: 10.01\r\nffprobe -v error -select_streams v:0 -show_entries stream=width,height -of default=noprint_wrappers=1:nokey=1 /root/dist/MoneyPrinterPlus/resource/pexels-9515580-uhd_2160_3840_24fps.mp4\r\nWidth: 2160, Height: 3840\r\nffmpeg -i /root/dist/MoneyPrinterPlus/resource/pexels-9515580-uhd_2160_3840_24fps.mp4 -r 20 -an -t 10 -vf scale=1080:-1:force_original_aspect_ratio=1,crop=1080:1920:(ow-iw)/2:(oh-ih)/2 -y /root/dist/MoneyPrinterPlus/work/pexels-9515580-uhd_2160_3840_24fps.temp.mp4\r\nCommand executed successfully.\r\nffprobe -i /root/dist/MoneyPrinterPlus/work/pexels-8058101-hd_1080_1920_25fps.temp.mp4 -show_entries format=duration\r\n视频时长: 10.0\r\nffprobe -i /root/dist/MoneyPrinterPlus/work/pexels-9515580-uhd_2160_3840_24fps.temp.mp4 -show_entries format=duration\r\n视频时长: 10.0\r\n启动转场特效\r\n转场视频长度：10.0 10.0\r\nffmpeg version 6.1.2 Copyright (c) 2000-2024 the FFmpeg developers\r\n  built with gcc 12 (Debian 12.2.0-14)\r\n  configuration: \r\n  libavutil      58. 29.100 / 58. 29.100\r\n  libavcodec     60. 31.102 / 60. 31.102\r\n  libavformat    60. 16.100 / 60. 16.100\r\n  libavdevice    60.  3.100 / 60.  3.100\r\n  libavfilter     9. 12.100 /  9. 12.100\r\n  libswscale      7.  5.100 /  7.  5.100\r\n  libswresample   4. 12.100 /  4. 12.100\r\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/root/dist/MoneyPrinterPlus/work/pexels-8058101-hd_1080_1920_25fps.temp.mp4':\r\n  Metadata:\r\n    major_brand     : isom\r\n    minor_version   : 512\r\n    compatible_brands: isomiso2mp41\r\n    encoder         : Lavf60.16.100\r\n  Duration: 00:00:10.00, start: 0.000000, bitrate: 1018 kb/s\r\n  Stream #0:0[0x1](und): Video: mpeg4 (Simple Profile) (mp4v / 0x7634706D), yuv420p(tv, bt709), 1080x1920 [SAR 1:1 DAR 9:16], 1017 kb/s, 20 fps, 20 tbr, 10240 tbn (default)\r\n    Metadata:\r\n      handler_name    : L-SMASH Video Handler\r\n      vendor_id       : [0][0][0][0]\r\n      encoder         : Lavc60.31.102 mpeg4\r\nInput #1, mov,mp4,m4a,3gp,3g2,mj2, from '/root/dist/MoneyPrinterPlus/work/pexels-9515580-uhd_2160_3840_24fps.temp.mp4':\r\n  Metadata:\r\n    major_brand     : isom\r\n    minor_version   : 512\r\n    compatible_brands: isomiso2mp41\r\n    encoder         : Lavf60.16.100\r\n  Duration: 00:00:10.00, start: 0.000000, bitrate: 1151 kb/s\r\n  Stream #1:0[0x1](und): Video: mpeg4 (Simple Profile) (mp4v / 0x7634706D), yuv420p(tv, bt709), 1080x1920 [SAR 1:1 DAR 9:16], 1149 kb/s, 20 fps, 20 tbr, 10240 tbn (default)\r\n    Metadata:\r\n      handler_name    : L-SMASH Video Handler\r\n      vendor_id       : [0][0][0][0]\r\n      encoder         : Lavc60.31.102 mpeg4\r\nStream mapping:\r\n  Stream #0:0 (mpeg4) -> xfade\r\n  Stream #1:0 (mpeg4) -> xfade\r\n  format:default -> Stream #0:0 (mpeg4)\r\nPress [q] to stop, [?] for help\r\nOutput #0, mp4, to '/root/dist/MoneyPrinterPlus/final/final-1728546190045.mp4':\r\n  Metadata:\r\n    major_brand     : isom\r\n    minor_version   : 512\r\n    compatible_brands: isomiso2mp41\r\n    encoder         : Lavf60.16.100\r\n  Stream #0:0: Video: mpeg4 (mp4v / 0x7634706D), yuv420p(tv, bt709, progressive), 1080x1920 [SAR 1:1 DAR 9:16], q=2-31, 200 kb/s, 20 fps, 10240 tbn\r\n    Metadata:\r\n      encoder         : Lavc60.31.102 mpeg4\r\n    Side data:\r\n      cpb: bitrate max/min/avg: 0/0/200000 buffer size: 0 vbv_delay: N/A\r\n[out#0/mp4 @ 0x55f5c05994c0] video:2284kB audio:0kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.110824%\r\nframe=  380 fps= 68 q=31.0 Lsize=    2287kB time=00:00:18.95 bitrate= 988.5kbits/s speed=3.39x    \r\nffmpeg -i /root/dist/MoneyPrinterPlus/final/final-1728546190045.mp4 -i /root/dist/MoneyPrinterPlus/work/1728546135914.wav -c:v copy -c:a aac -strict experimental -map 0:v:0 -map 1:a:0 -shortest -y /root/dist/MoneyPrinterPlus/final/final-1728546190045.temp.mp4\r\n['ffmpeg', '-i', '/root/dist/MoneyPrinterPlus/final/final-1728546190045.mp4', '-i', '/root/dist/MoneyPrinterPlus/bgmusic/2.mp3', '-filter_complex', '[1:a]aloop=loop=0:size=100M[bgm];[bgm]volume=0.3[bgm_vol];[0:a][bgm_vol]amix=duration=first:dropout_transition=3:inputs=2[a]', '-map', '0:v', '-map', '[a]', '-c:v', 'copy', '-shortest', '/root/dist/MoneyPrinterPlus/final/final-1728546190045.temp.mp4']\r\n2024-10-10 07:43:13.322 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"/usr/local/lib/python3.12/site-packages/streamlit/runtime/state/safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"/usr/local/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"/usr/local/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"/usr/local/lib/python3.12/site-packages/streamlit/runtime/state/session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"/root/dist/MoneyPrinterPlus/pages/01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\n  File \"/root/dist/MoneyPrinterPlus/main.py\", line 308, in main_generate_ai_video\r\n    video_file = video_service.generate_video_with_audio()\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/dist/MoneyPrinterPlus/services/video/video_service.py\", line 535, in generate_video_with_audio\r\n    add_background_music(merge_video, self.background_music, self.background_music_volume)\r\n  File \"/root/dist/MoneyPrinterPlus/services/video/video_service.py\", line 215, in add_background_music\r\n    subprocess.run(command, capture_output=True, text=True)\r\n  File \"/usr/local/lib/python3.12/subprocess.py\", line 550, in run\r\n    stdout, stderr = process.communicate(input, timeout=timeout)\r\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/local/lib/python3.12/subprocess.py\", line 1209, in communicate\r\n    stdout, stderr = self._communicate(input, endtime, timeout)\r\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/local/lib/python3.12/subprocess.py\", line 2157, in _communicate\r\n    stderr = self._translate_newlines(stderr,\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/local/lib/python3.12/subprocess.py\", line 1086, in _translate_newlines\r\n    data = data.decode(encoding, errors)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xd3 in position 1386: invalid continuation byte"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 63,
    "title": "单行字幕长的话，会顶到视频外面去",
    "author": "dennisexp",
    "state": "open",
    "created_at": "2024-10-07T05:26:40Z",
    "updated_at": "2024-10-09T09:38:28Z",
    "labels": [],
    "body": "我是mac os，\r\n能否根据视频像素的宽度，和单行字幕的长度（含字号和字体参数），将字幕折中断行（可能多行）。\r\n目前如下：\r\n![Uploading WX20241007-132225.png…]()\r\n![Uploading WX20241007-132317.png…]()\r\n\r\n",
    "comments": [
      {
        "user": "ddean2009",
        "body": "好， 研究一下 "
      },
      {
        "user": "Jiavey",
        "body": "应该做一下自动换行就行，期待优化"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 58,
    "title": "勾选字母生成视频异常",
    "author": "lsjiyy",
    "state": "closed",
    "created_at": "2024-09-25T02:25:15Z",
    "updated_at": "2024-10-08T01:10:26Z",
    "labels": [],
    "body": "IndexError: list index out of range\r\n![image](https://github.com/user-attachments/assets/602d34b5-e76d-4637-a9eb-72030f7656cc)\r\n",
    "comments": [
      {
        "user": "ddean2009",
        "body": "语音合成，语音识别没配置好 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 59,
    "title": "生成视频报错，有没有大佬指点一下",
    "author": "authorz",
    "state": "closed",
    "created_at": "2024-09-25T09:36:38Z",
    "updated_at": "2024-10-08T01:10:00Z",
    "labels": [],
    "body": "报错：\r\n`CalledProcessError: Command '['ffmpeg', '-i', 'F:\\\\MoneyPrinterPlus-windows\\\\work\\\\1727256042420.wav', '-af', 'apad=pad_dur=2', 'F:\\\\MoneyPrinterPlus-windows\\\\work\\\\1727256042420.temp.wav']' returned non-zero exit status 3199971767.`\r\n系统环境(win11专业版, 22H2)：\r\n![image](https://github.com/user-attachments/assets/19bf6f26-bde1-43b7-8189-e186a0d0e4a7)\r\nffmpeg（v7.0.2）:\r\n![image](https://github.com/user-attachments/assets/b33eb377-38d4-44cc-9b54-388a61418e7f)\r\n配置：\r\n![image](https://github.com/user-attachments/assets/9ecf9d0a-0ae9-4aa1-aac8-c256a0ef8526)\r\n阿里云项目配置：\r\n录音文件识别（极速版）：已开通商用\r\n语音合成：已开通商用\r\nwork文件夹里面的wav文件均为0字节",
    "comments": [
      {
        "user": "EQEeeeee",
        "body": "同"
      },
      {
        "user": "EQEeeeee",
        "body": "有没有大佬解决一下\r\n"
      },
      {
        "user": "city10666",
        "body": "我之前好像也出现过，ffmpeg版本好不对，删掉重新搞，版本好显示数字的就正常了\r\n我的现在是显示\r\nC:\\Users\\admin>ffmpeg\r\nffmpeg version 7.0.1-essentials_build-www.gyan.dev Copyright (c) 2000-2024 the FFmpeg developers...."
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 64,
    "title": "添加字幕过程中报错",
    "author": "KFK121",
    "state": "closed",
    "created_at": "2024-10-07T08:05:36Z",
    "updated_at": "2024-10-08T01:08:42Z",
    "labels": [],
    "body": "## 浏览器页面\r\n\r\nCalledProcessError: Command '['ffmpeg', '-i', '/home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.mp4', '-vf', \"subtitles=/home/MoneyPrinter/MoneyPrinterPlus/work/1728287586947.srt:fontsdir=/home/MoneyPrinter/MoneyPrinterPlus/fonts:force_style='Fontname=Songti SC Light,Fontsize=6,Alignment=2,MarginV=16,MarginL=4,MarginR=4,BorderStyle=1,Outline=0,Shadow=0,PrimaryColour=&HFFFFFF&,OutlineColour=&H000000&,Spacing=2'\", '-y', '/home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.temp.mp4']' returned non-zero exit status 234.\r\nTraceback:\r\nFile \"/home/anaconda3/envs/mp/lib/python3.10/site-packages/streamlit/runtime/scriptrunner/script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"/home/anaconda3/envs/mp/lib/python3.10/site-packages/streamlit/runtime/state/safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"/home/anaconda3/envs/mp/lib/python3.10/site-packages/streamlit/runtime/state/session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"/home/anaconda3/envs/mp/lib/python3.10/site-packages/streamlit/runtime/state/session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"/home/anaconda3/envs/mp/lib/python3.10/site-packages/streamlit/runtime/state/session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"/home/MoneyPrinter/MoneyPrinterPlus/pages/01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"/home/MoneyPrinter/MoneyPrinterPlus/main.py\", line 324, in main_generate_ai_video\r\n    add_subtitles(video_file, subtitle_file,\r\nFile \"/home/MoneyPrinter/MoneyPrinterPlus/services/captioning/captioning_service.py\", line 123, in add_subtitles\r\n    subprocess.run(ffmpeg_cmd, check=True)\r\nFile \"/home/anaconda3/envs/mp/lib/python3.10/subprocess.py\", line 526, in run\r\n    raise CalledProcessError(retcode, process.args,\r\n\r\n\r\n## 命令行界面：\r\n['ffmpeg', '-i', '/home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.mp4', '-i', '/home/MoneyPrinter/MoneyPrinterPlus/bgmusic/1.mp3', '-filter_complex', '[1:a]aloop=loop=0:size=100M[bgm];[bgm]volume=0.3[bgm_vol];[0:a][bgm_vol]amix=duration=first:dropout_transition=3:inputs=2[a]', '-map', '0:v', '-map', '[a]', '-c:v', 'copy', '-shortest', '/home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.temp.mp4']\r\nfinal file without subtitle: /home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.mp4\r\nffmpeg -i /home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.mp4 -vf subtitles=/home/MoneyPrinter/MoneyPrinterPlus/work/1728287586947.srt:fontsdir=/home/MoneyPrinter/MoneyPrinterPlus/fonts:force_style='Fontname=Songti SC Light,Fontsize=6,Alignment=2,MarginV=16,MarginL=4,MarginR=4,BorderStyle=1,Outline=0,Shadow=0,PrimaryColour=&HFFFFFF&,OutlineColour=&H000000&,Spacing=2' -y /home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.temp.mp4\r\nffmpeg version 6.1.2 Copyright (c) 2000-2024 the FFmpeg developers\r\n  built with gcc 4.8.5 (GCC) 20150623 (Red Hat 4.8.5-44)\r\n  configuration: --enable-ffplay\r\n  libavutil      58. 29.100 / 58. 29.100\r\n  libavcodec     60. 31.102 / 60. 31.102\r\n  libavformat    60. 16.100 / 60. 16.100\r\n  libavdevice    60.  3.100 / 60.  3.100\r\n  libavfilter     9. 12.100 /  9. 12.100\r\n  libswscale      7.  5.100 /  7.  5.100\r\n  libswresample   4. 12.100 /  4. 12.100\r\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.mp4':\r\n  Metadata:\r\n    major_brand     : isom\r\n    minor_version   : 512\r\n    compatible_brands: isomiso2mp41\r\n    encoder         : Lavf60.16.100\r\n  Duration: 00:00:15.65, start: 0.000000, bitrate: 1856 kb/s\r\n  Stream #0:0[0x1](und): Video: mpeg4 (Simple Profile) (mp4v / 0x7634706D), yuv420p(tv, bt709), 1080x1920 [SAR 1:1 DAR 9:16], 1786 kb/s, 20 fps, 20 tbr, 10240 tbn (default)\r\n    Metadata:\r\n      handler_name    : VideoHandler\r\n      vendor_id       : [0][0][0][0]\r\n      encoder         : Lavc60.31.102 mpeg4\r\n  Stream #0:1[0x2](und): Audio: aac (LC) (mp4a / 0x6134706D), 16000 Hz, mono, fltp, 65 kb/s (default)\r\n    Metadata:\r\n      handler_name    : SoundHandler\r\n      vendor_id       : [0][0][0][0]\r\n[AVFilterGraph @ 0x4451940] No option name near '/home/MoneyPrinter/MoneyPrinterPlus/work/1728287586947.srt:fontsdir=/home/MoneyPrinter/MoneyPrinterPlus/fonts:force_style=Fontname=Songti SC Light,Fontsize=6,Alignment=2,MarginV=16,MarginL=4,MarginR=4,BorderStyle=1,Outline=0,Shadow=0,PrimaryColour=&HFFFFFF&,OutlineColour=&H000000&,Spacing=2'\r\n[AVFilterGraph @ 0x4451940] Error parsing a filter description around: \r\n[AVFilterGraph @ 0x4451940] Error parsing filterchain 'subtitles=/home/MoneyPrinter/MoneyPrinterPlus/work/1728287586947.srt:fontsdir=/home/MoneyPrinter/MoneyPrinterPlus/fonts:force_style='Fontname=Songti SC Light,Fontsize=6,Alignment=2,MarginV=16,MarginL=4,MarginR=4,BorderStyle=1,Outline=0,Shadow=0,PrimaryColour=&HFFFFFF&,OutlineColour=&H000000&,Spacing=2'' around: \r\n[vost#0:0/mpeg4 @ 0x4450b40] Error initializing a simple filtergraph\r\nError opening output file /home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.temp.mp4.\r\nError opening output files: Invalid argument\r\n2024-10-07 15:53:48.963 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"/home/anaconda3/envs/mp/lib/python3.10/site-packages/streamlit/runtime/scriptrunner/script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"/home/anaconda3/envs/mp/lib/python3.10/site-packages/streamlit/runtime/state/safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"/home/anaconda3/envs/mp/lib/python3.10/site-packages/streamlit/runtime/state/session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"/home/anaconda3/envs/mp/lib/python3.10/site-packages/streamlit/runtime/state/session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"/home/anaconda3/envs/mp/lib/python3.10/site-packages/streamlit/runtime/state/session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"/home/MoneyPrinter/MoneyPrinterPlus/pages/01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\n  File \"/home/MoneyPrinter/MoneyPrinterPlus/main.py\", line 324, in main_generate_ai_video\r\n    add_subtitles(video_file, subtitle_file,\r\n  File \"/home/MoneyPrinter/MoneyPrinterPlus/services/captioning/captioning_service.py\", line 123, in add_subtitles\r\n    subprocess.run(ffmpeg_cmd, check=True)\r\n  File \"/home/anaconda3/envs/mp/lib/python3.10/subprocess.py\", line 526, in run\r\n    raise CalledProcessError(retcode, process.args,\r\nsubprocess.CalledProcessError: Command '['ffmpeg', '-i', '/home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.mp4', '-vf', \"subtitles=/home/MoneyPrinter/MoneyPrinterPlus/work/1728287586947.srt:fontsdir=/home/MoneyPrinter/MoneyPrinterPlus/fonts:force_style='Fontname=Songti SC Light,Fontsize=6,Alignment=2,MarginV=16,MarginL=4,MarginR=4,BorderStyle=1,Outline=0,Shadow=0,PrimaryColour=&HFFFFFF&,OutlineColour=&H000000&,Spacing=2'\", '-y', '/home/MoneyPrinter/MoneyPrinterPlus/final/final-1728287634716.temp.mp4']' returned non-zero exit status 234.",
    "comments": [
      {
        "user": "ddean2009",
        "body": "ffmpeg 版本不对：  AVFilterGraph @ 0x4451940] No option name near  \r\n\r\nffmpeg 6.1.1 安装包：https://www.gyan.dev/ffmpeg/builds/packages/ffmpeg-6.1.1-essentials_build.zip"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 57,
    "title": "报缺失missing 2 required positional arguments: 'application' and 'request'",
    "author": "luyoujie1989",
    "state": "open",
    "created_at": "2024-09-24T10:01:23Z",
    "updated_at": "2024-10-08T01:08:03Z",
    "labels": [],
    "body": "2024-09-24 17:52:53.622 Uncaught exception\r\nTraceback (most recent call last):\r\n  File \"D:\\py\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\tornado\\http1connection.py\", line 278, in _read_message\r\n    delegate.finish()\r\n  File \"D:\\py\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\tornado\\routing.py\", line 268, in finish\r\n    self.delegate.finish()\r\n  File \"D:\\py\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\tornado\\web.py\", line 2399, in finish\r\n    self.execute()\r\n  File \"D:\\py\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\tornado\\web.py\", line 2421, in execute\r\n    self.handler = self.handler_class(\r\n  File \"D:\\py\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\tornado\\websocket.py\", line 220, in __init__\r\n    super().__init__(application, request, **kwargs)\r\n  File \"D:\\py\\MoneyPrinterPlus-main\\venv\\lib\\site-packages\\tornado\\web.py\", line 214, in __init__\r\n    super().__init__()\r\n  File \"D:\\syssoft\\py\\lib\\typing.py\", line 1422, in _no_init_or_replace_init\r\n    cls.__init__(self, *args, **kwargs)\r\nTypeError: WebSocketHandler.__init__() missing 2 required positional arguments: 'application' and 'request'",
    "comments": [
      {
        "user": "ddean2009",
        "body": "依赖没装好？ \r\n"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 65,
    "title": "我之前好像也出现过，ffmpeg版本好不对，删掉重新搞，版本好显示数字的就正常了",
    "author": "fenghaoyu16",
    "state": "closed",
    "created_at": "2024-10-07T08:18:40Z",
    "updated_at": "2024-10-07T08:19:39Z",
    "labels": [],
    "body": "              我之前好像也出现过，ffmpeg版本好不对，删掉重新搞，版本好显示数字的就正常了\r\n我的现在是显示\r\nC:\\Users\\admin>ffmpeg\r\nffmpeg version 7.0.1-essentials_build-www.gyan.dev Copyright (c) 2000-2024 the FFmpeg developers....\r\n\r\n_Originally posted by @city10666 in https://github.com/ddean2009/MoneyPrinterPlus/issues/59#issuecomment-2381258777_\r\n            ",
    "comments": [
      {
        "user": "fenghaoyu16",
        "body": "> ```\r\n>           我之前好像也出现过，ffmpeg版本好不对，删掉重新搞，版本好显示数字的就正常了\r\n> ```\r\n> \r\n> 我的现在是显示 C:\\Users\\admin>ffmpeg ffmpeg version 7.0.1-essentials_build-www.gyan.dev Copyright (c) 2000-2024 the FFmpeg developers....\r\n> \r\n> _Originally posted by @city10666 in [#59 (comment)](https://github.com/ddean2009/MoneyPrinterPlus/issues/59#issuecomment-2381258777)_\r\n\r\n"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 61,
    "title": "fasterWhisper问题",
    "author": "city10666",
    "state": "open",
    "created_at": "2024-09-28T16:06:21Z",
    "updated_at": "2024-09-30T16:10:44Z",
    "labels": [],
    "body": "fasterWhispe似乎不支持低端显卡，用CPU跑，识别又不准确，不知有没有其他语音识别，适合tesla老显卡的",
    "comments": [
      {
        "user": "city10666",
        "body": "自己瞎折腾搞定了，直接加个代码，tesla P100就能跑了，不过准确度一般般吧，效率还行\r\n在目录config下的文件改下文件config.py\r\n\r\nlocal_audio_recognition_fasterwhisper_compute_types = ['int8', 'int8_float16', 'float16', 'float32']\r\n加个float32就轻松搞定"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 62,
    "title": "v2的api和v1有变化，v2的模型效果更好些。期待尽早支持哈。",
    "author": "burn3tt",
    "state": "open",
    "created_at": "2024-09-29T03:29:53Z",
    "updated_at": "2024-09-29T03:29:53Z",
    "labels": [],
    "body": "v2的api和v1有变化，v2的模型效果更好些。期待尽早支持哈。",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 60,
    "title": "dockerfile，build之后不能使用，启动容器的时候cmd命令提示没有那个目录,    dockerfile里删除cmd命令也不能运行镜像......直接启动不了...",
    "author": "Superinterface",
    "state": "open",
    "created_at": "2024-09-28T14:08:43Z",
    "updated_at": "2024-09-28T14:10:07Z",
    "labels": [],
    "body": "![微信图片_20240928220701](https://github.com/user-attachments/assets/d2988e7b-63d0-4c98-a530-a57381c0989a)\r\n",
    "comments": [
      {
        "user": "Superinterface",
        "body": "/root/dist/rmmp.sh文件存在,    sh里的py也存在,目录也相同"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 56,
    "title": "自动发布抖音错误",
    "author": "Liuergouzi",
    "state": "closed",
    "created_at": "2024-09-24T09:54:29Z",
    "updated_at": "2024-09-24T09:57:45Z",
    "labels": [],
    "body": "报错：\r\ndouyin got error\r\nTraceback (most recent call last):\r\n  File \"D:\\Backup\\Downloads\\MoneyPrinterPlus-windows\\services\\publisher\\publish_video.py\", line 31, in publish_to_platform\r\n    globals()[platform + '_publisher'](driver, video_file, text_file)  # 动态调用对应平台的发布函数\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\Backup\\Downloads\\MoneyPrinterPlus-windows\\services\\publisher\\douyin_publisher.py\", line 40, in douyin_publisher\r\n    title_text = read_head(text_file)\r\n                 ^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\Backup\\Downloads\\MoneyPrinterPlus-windows\\tools\\file_utils.py\", line 127, in read_head\r\n    if os.path.exists(file):\r\n       ^^^^^^^^^^^^^^^^^^^^\r\n  File \"<frozen genericpath>\", line 19, in exists\r\nTypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType\r\nstat: path should be string, bytes, os.PathLike or integer, not NoneType",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 48,
    "title": "文字合成语音报错",
    "author": "jsx112",
    "state": "open",
    "created_at": "2024-09-18T12:07:51Z",
    "updated_at": "2024-09-23T06:00:38Z",
    "labels": [],
    "body": "AttributeError: 'NoneType' object has no attribute 'read'\r\nTraceback:\r\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 66, in try_test_local_audio\r\n    main_try_test_local_audio()\r\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\main.py\", line 120, in main_try_test_local_audio\r\n    audio_service.read_with_content(video_content)\r\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\services\\audio\\chattts_service.py\", line 98, in read_with_content\r\n    audio = AudioSegment.from_file(temp_file)\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"G:\\selfmedia\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\pydub\\audio_segment.py\", line 723, in from_file\r\n    stdin_data = file.read()\r\n                 ^^^^^^^^^\r\n\r\n哪位大哥遇到",
    "comments": [
      {
        "user": "JacksonChan-X",
        "body": "参数问题，本项目在ChatTTSAudioService类中的chat_with_content方法中存在一些请求参数位置与ChatTTS的generate_voice接口不兼容。\r\n\r\npython环境：3.10.14\r\n\r\nChatTTS：当前最新版本\r\n\r\nMoneyPrinterPlus：V4.5\r\n\r\n\r\n\r\n```python\r\n  # ChatTTSAudioService类\r\n  def chat_with_content(self, content, audio_output_file):\r\n        # main infer params\r\n        body = {\r\n            \"text\": [content],\r\n            \"stream\": False,\r\n            \"lang\": None,\r\n            \"skip_refine_text\":  self.skip_refine_text ,\r\n            \"refine_text_only\": False,\r\n            \"use_decoder\": True,\r\n            \"audio_seed\": int(self.audio_seed) if self.audio_seed else 0,\r\n            \"text_seed\": int(self.text_seed),\r\n            \"do_text_normalization\": True,\r\n            \"do_homophone_replacement\": False,\r\n        }\r\n\r\n        # refine text params\r\n        params_refine_text = {\r\n            \"prompt\": self.refine_text_prompt,\r\n            \"top_P\": float(self.audio_top_p),\r\n            \"top_K\": int(self.audio_top_k),\r\n            \"temperature\": float(self.audio_temperature),\r\n            \"repetition_penalty\": 1,\r\n            \"max_new_token\": 384,\r\n            \"min_new_token\": 0,\r\n            \"show_tqdm\": True,\r\n            \"ensure_non_empty\": True,\r\n            # \"manual_seed\": int(self.audio_seed) if self.audio_seed else 0,\r\n        }\r\n        body[\"params_refine_text\"] = params_refine_text\r\n\r\n        # infer code params\r\n        params_infer_code = {\r\n            \"prompt\": self.audio_speed,\r\n            \"top_P\": float(self.audio_top_p),\r\n            \"top_K\": int(self.audio_top_k),\r\n            \"temperature\": float(self.audio_temperature),\r\n            \"repetition_penalty\": 1.05,\r\n            \"max_new_token\": 2048,\r\n            \"min_new_token\": 0, # 在ChatTTS中，无该参数\r\n            \"show_tqdm\": True,\r\n            \"ensure_non_empty\": True,\r\n            # \"stream_batch\": True,\r\n            \"spk_emb\": self.audio_content if not self.audio_seed else None,\r\n            \"stream_batch\": 24, # 在ChatTTS中，该参数位于params_infer_code中,是整数,非bool类型值\r\n            \"stream_speed\":12000, # 在ChatTTS中，该参数位于params_infer_code中,是整数,非bool类型值(本来该项目中是没有该参数的)\r\n            \"pass_first_n_batches\":2,# 在ChatTTS中，该参数位于params_infer_code中,是整数,非bool类型值(本来该项目中是没有该参数的)\r\n            # \"spk_smp\": self.audio_seed if self.audio_seed else None,\r\n            # \"txt_smp\": self.text_seed if self.text_seed else None,\r\n        }\r\n        body[\"params_infer_code\"] = params_infer_code\r\n\r\n        print(body)\r\n\r\n        try:\r\n            response = requests.post(self.service_location, json=body)\r\n            response.raise_for_status()\r\n            with zipfile.ZipFile(BytesIO(response.content), \"r\") as zip_ref:\r\n                zip_ref.extractall(audio_output_dir)\r\n                file_names = zip_ref.namelist()\r\n                output_file = os.path.join(audio_output_dir, file_names[0])\r\n\r\n                convert_mp3_to_wav(output_file, audio_output_file)\r\n                print(\"Extracted files into\", audio_output_file)\r\n                return audio_output_file\r\n\r\n        except requests.exceptions.RequestException as e:\r\n            print(f\"Request Error: {e}\")\r\n\r\n```\r\n\r\n"
      },
      {
        "user": "ddean2009",
        "body": "你是chatTTS 自带的API 吗？ "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 49,
    "title": "为什么显示请先生成视频资源",
    "author": "MoncozGC",
    "state": "closed",
    "created_at": "2024-09-19T07:59:10Z",
    "updated_at": "2024-09-23T06:00:17Z",
    "labels": [],
    "body": "看日志中的请求都是正常的，但是在最后不确定是不是合成的时候 报错误 `Error: 403` 但是这个错误不知道是因为什么引起的。\r\n\r\n\r\n```log\r\n__syn_core_on_data\r\ncore_on_msg:{\"header\":{\"namespace\":\"SpeechSynthesizer\",\"name\":\"SynthesisCompleted\",\"status\":20000000,\"message_id\":\"16d7fe554b644310bff0be67c5964a18\",\"task_id\":\"e3d0ece30f72429ebd060012017b1448\",\"status_text\":\"Gateway:SUCCESS:Su\r\nccess.\"}}\r\n__syn_core_on_msg:msg={\"header\":{\"namespace\":\"SpeechSynthesizer\",\"name\":\"SynthesisCompleted\",\"status\":20000000,\"message_id\":\"16d7fe554b644310bff0be67c5964a18\",\"task_id\":\"e3d0ece30f72429ebd060012017b1448\",\"status_text\":\"Gateway:\r\nSUCCESS:Success.\"}} args=()\r\n__handle_message\r\n__synthesis_completed\r\n__synthesis_completed shutdown done\r\non_completed:args=>('',) message=>{\"header\":{\"namespace\":\"SpeechSynthesizer\",\"name\":\"SynthesisCompleted\",\"status\":20000000,\"message_id\":\"16d7fe554b644310bff0be67c5964a18\",\"task_id\":\"e3d0ece30f72429ebd060012017b1448\",\"status_tex\r\nt\":\"Gateway:SUCCESS:Success.\"}}\r\ncore_on_close\r\nali tts done with result:None\r\n__sr_core_on_close\r\n['ffmpeg', '-i', 'F:\\\\MoneyPrinterPlus\\\\work\\\\1726732367788.wav', '-af', 'apad=pad_dur=2', 'F:\\\\MoneyPrinterPlus\\\\work\\\\1726732367788.temp.wav']\r\non_close: args=>('',)\r\nws exit...\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: Ali\r\nResponse status and response reason:\r\n200 OK\r\nRecognize response is:\r\n{'task_id': '9898c5c6b1724249a105a15950e4ac7f', 'result': '', 'status': 20000000, 'message': 'SUCCESS', 'flash_result': {'duration': 14241, 'completed': True, 'sentences': [{'text': '人工智能ai是模拟延伸，', 'begin_time': 0, 'e\r\nnd_time': 2343, 'channel_id': 0}, {'text': '人类智能的技术，', 'begin_time': 2343, 'end_time': 3983, 'channel_id': 0}, {'text': '正深刻改变社会与生活，', 'begin_time': 3983, 'end_time': 6327, 'channel_id': 0}, {'text': '涵盖机 \r\n器学习、自然语言处理等领域，', 'begin_time': 6327, 'end_time': 9842, 'channel_id': 0}, {'text': '推动产业革新与科学进步。', 'begin_time': 9842, 'end_time': 12420, 'channel_id': 0}], 'latency': 1196}}\r\n1\r\n00:00:00,000 --> 00:00:02,343\r\n人工智能ai是模拟延伸，\r\n\r\n2\r\n00:00:02,343 --> 00:00:03,983\r\n人类智能的技术，\r\n\r\n3\r\n00:00:03,983 --> 00:00:06,327\r\n正深刻改变社会与生活，\r\n\r\n4\r\n00:00:06,327 --> 00:00:09,842\r\n涵盖机器学习、自然语言处理等领域，\r\n\r\n5\r\n00:00:09,842 --> 00:00:13,420\r\n推动产业革新与科学进步。\r\n\r\nmain_get_video_resource begin\r\nresource_provider: pexels\r\nffmpeg -i F:\\\\MoneyPrinterPlus\\work\\1726732367788.wav\r\n音频时长: 14\r\naudio_length: 14\r\nError: 403\r\nNo videos found.\r\nTongyi\r\n```",
    "comments": [
      {
        "user": "MoncozGC",
        "body": "我发现是请求 pexels资源库 的时候报错\r\n\r\n## 排查\r\n程序打印出发起的url请求为\r\n```\r\nhttps://api.pexels.com/videos/search?query=Artificial Intelligence, Machine Learning, Natural Language Processing, Social Change, Industrial Innovation&orientation=portrait&per_page=50\r\n```\r\nquery带入的参数应该是LLM生成的 视频文案关键词，但是在url中query参数带进来的关键词有空格不确定是否会导致请求失败。\r\n\r\n## 调试\r\n我直接使用bash的方式进行请求，删除掉了query参数中关键词的空格，是可以请求成功的，但是我换成python的方式进行请求就会失败\r\n\r\n**python单独调用报错**\r\n```python\r\nheaders = {\r\n    'Authorization': 'XXX'\r\n}\r\n\r\nurl = 'https://api.pexels.com/videos/search?query=ArtificialIntelligence,MachineLearning&orientation=portrait&per_page=1'\r\nresponse = requests.get(url, headers=headers)\r\nprint(response.json())\r\n```\r\n\r\n**bash单独调用成功**\r\n![image](https://github.com/user-attachments/assets/9fcf63bc-ae94-42ec-bb0d-db84ffec0891)\r\n\r\n***\r\n不知道这个原因是什么导致的，或者是我某个地方配置有问题嘛，辛苦作者看下~\r\n"
      },
      {
        "user": "ddean2009",
        "body": "应该是没找到你这些关键词的视频资源。 可以换个关键词试试"
      },
      {
        "user": "ddean2009",
        "body": "v4.6已修复。 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 53,
    "title": "合成视频时候报错，语音试听没有问题。",
    "author": "wuhanfanyi",
    "state": "closed",
    "created_at": "2024-09-22T12:03:23Z",
    "updated_at": "2024-09-23T05:59:00Z",
    "labels": [],
    "body": "TencentCloudSDKException: [TencentCloudSDKException] code:UnsupportedOperation.PkgExhausted message:The resource pack allowance has been exhausted, please check your resource pack. requestId:83c9af0c-0a2f-4b90-810e-4ca16a37568d\r\nTraceback:\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\pages\\01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\main.py\", line 291, in main_generate_ai_video\r\n    main_generate_video_dubbing()\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\main.py\", line 163, in main_generate_video_dubbing\r\n    audio_service.save_with_ssml(video_content,\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\services\\audio\\tencent_tts_service.py\", line 110, in save_with_ssml\r\n    resp = client.CreateTtsTask(req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\tencentcloud\\tts\\v20190823\\tts_client.py\", line 57, in CreateTtsTask\r\n    body = self.call(\"CreateTtsTask\", params, headers=headers)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\tencentcloud\\common\\abstract_client.py\", line 433, in call\r\n    self._check_error(resp)\r\nFile \"D:\\soft\\MoneyPrinterPlus-main\\venv\\Lib\\site-packages\\tencentcloud\\common\\abstract_client.py\", line 364, in _check_error\r\n    raise TencentCloudSDKException(code, message, reqid)",
    "comments": [
      {
        "user": "ddean2009",
        "body": "The resource pack allowance has been exhausted。  超出范围了。 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 54,
    "title": "请先生成视频资源文件",
    "author": "wuhanfanyi",
    "state": "closed",
    "created_at": "2024-09-22T12:46:37Z",
    "updated_at": "2024-09-23T05:54:41Z",
    "labels": [],
    "body": "main_get_video_resource begin\r\nresource_provider: pexels\r\nffmpeg -i D:\\soft\\MoneyPrinterPlus-main\\work\\1727009140354.wav\r\n音频时长: 56\r\naudio_length: 56\r\nError: 403\r\nNo videos found.\r\n\r\n用了各种各样的关键词还是不行。",
    "comments": [
      {
        "user": "mu0641",
        "body": "Error: 403\r\nNo videos found.   我也是一样"
      },
      {
        "user": "ddean2009",
        "body": "v4.6版本已修复。 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 55,
    "title": " 出现两个问题'gbk' codec can't decode byte 0xab in position 2172 和Could not locate cudnn_ops_infer64_8.dll.",
    "author": "lemuzhi",
    "state": "open",
    "created_at": "2024-09-22T12:51:45Z",
    "updated_at": "2024-09-22T12:51:45Z",
    "labels": [],
    "body": "ffprobe -i D:\\快商\\君品烧坊\\内容\\9月11日(24).mp4 -show_entries format=duration\r\n视频时长: 17.368526\r\ntotal length: 18.738503 audio length: 9\r\ntotal length: 18.738503 audio length: 9\r\nException in thread Thread-35 (_readerthread):\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows-no-venv\\MoneyPrinterPlus-windows\\python311\\Lib\\threading.py\", line 1045, in _bootstrap_inner\r\n    self.run()\r\n  File \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows-no-venv\\MoneyPrinterPlus-windows\\python311\\Lib\\threading.py\", line 982, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"C:\\Users\\Administrator\\Downloads\\MoneyPrinterPlus-windows-no-venv\\MoneyPrinterPlus-windows\\python311\\Lib\\subprocess.py\", line 1597, in _readerthread\r\n    buffer.append(fh.read())\r\n                  ^^^^^^^^^\r\nUnicodeDecodeError: 'gbk' codec can't decode byte 0xab in position 2172: illegal multibyte sequence\r\nCommand executed successfully.\r\nAudio files have been merged into D:\\快商\\MoneyPrinterPlus-windows-no-venv\\MoneyPrinterPlus-windows\\work\\1726996959028.wav\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: fasterwhisper\r\nD:\\快商\\MoneyPrinterPlus-windows-no-venv\\MoneyPrinterPlus-windows\\fasterwhisper\\tiny True\r\nCould not locate cudnn_ops_infer64_8.dll. Please make sure it is in your library path!",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 51,
    "title": "到了fasterwhisper这步，报错说 libcudnn_ops_infer.so.8 找不到，整个直接退出了",
    "author": "sdwcn",
    "state": "closed",
    "created_at": "2024-09-21T19:03:54Z",
    "updated_at": "2024-09-22T05:37:52Z",
    "labels": [],
    "body": "到了fasterwhisper这步，报错说 libcudnn_ops_infer.so.8 找不到，整个直接退出了\r\n```\r\n[out#0/wav @ 0x5636d3316dc0] video:0KiB audio:5246KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: 0.001452%\r\nsize=    5246KiB time=00:00:27.97 bitrate=1536.0kbits/s speed= 531x    \r\nExtracted files into /mnt/data/ntg/MoneyPrinterPlus/work/1726944495444.wav\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: fasterwhisper\r\n/mnt/data/ntg/MoneyPrinterPlus/fasterwhisper/tiny True\r\n**Could not load library libcudnn_ops_infer.so.8. Error: libcudnn_ops_infer.so.8: cannot open shared object file: No such file or directory**\r\nstart.sh: line 14: 10456 Aborted                 (core dumped) streamlit run gui.py\r\n```\r\n\r\n然后我在venv下查了，这个文件是在的 ，文件大小也是对的：\r\n/mnt/data/ntg/MoneyPrinterPlus/venv/lib/python3.10/site-packages/nvidia/cudnn/lib/libcudnn_ops_infer.so.8\r\n\r\n\r\n会是啥问题哈？",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 32,
    "title": "Mac版本 视频自动发布 点击环境检测 不报错，但也没有打开页面。",
    "author": "ZeeMenng",
    "state": "closed",
    "created_at": "2024-09-04T16:01:12Z",
    "updated_at": "2024-09-18T07:34:47Z",
    "labels": [],
    "body": "<img width=\"1504\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2e29501b-2f0f-497c-9982-a9e489929909\">\r\n\r\n\r\n<img width=\"1501\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f823ecad-d019-4991-9d7f-af78c5498e6b\">\r\n\r\nChrome和ChromeDriver都安装测试正常。",
    "comments": [
      {
        "user": "ZeeMenng",
        "body": "后台日志，也没显示任何错误。\r\n<img width=\"566\" alt=\"image\" src=\"https://github.com/user-attachments/assets/0c003d50-5ac0-4442-aa8b-a45ddba19043\">\r\n"
      },
      {
        "user": "ddean2009",
        "body": "1.  你需要先用调试模式打开chrome。 \r\n2. 然后再点环境测试。 "
      },
      {
        "user": "ZeeMenng",
        "body": "是用调试模式打开的，而且可以确认ChromeDriver和Chrome没有问题，因为我的爬虫程序也用的ChromeDriver，能正常运行的。\r\n\r\nChrome的版本是：128.0.6613.120 (Official Build) (arm64)。\r\nChromeDriver是： 128.0.6613.18\r\n\r\n<img width=\"1493\" alt=\"image\" src=\"https://github.com/user-attachments/assets/fb4be57c-6657-4297-81c8-b3d89f4d78f9\">\r\n"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 45,
    "title": "ImportError: cannot import name 'pairwise' from 'itertools' (unknown location)",
    "author": "kongmingyang",
    "state": "closed",
    "created_at": "2024-09-13T08:38:04Z",
    "updated_at": "2024-09-18T07:34:16Z",
    "labels": [],
    "body": "配置完之后报如下错误，要如何解决呢\r\n\r\n![WeChat6b5fa458ef24c13c89f8b63bb7e95427](https://github.com/user-attachments/assets/bd8017ab-a75e-49e5-a034-54d647b04318)\r\n",
    "comments": [
      {
        "user": "ddean2009",
        "body": "python 用3.10 ，或者3.11"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 46,
    "title": "ValueError: HTTP 429 erro",
    "author": "Joagee",
    "state": "closed",
    "created_at": "2024-09-15T11:18:37Z",
    "updated_at": "2024-09-18T07:33:49Z",
    "labels": [],
    "body": "ValueError: HTTP 429 error: {\"error\":{\"message\":\"Your account co8mr9ilnl98te8smgjg\\u003cak-euk56jtfire111any6xi\\u003e request reached max concurrency: 1, please try again after 1 seconds\",\"type\":\"rate_limit_reached_error\"}}\r\n\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 54, in generate_video_content\r\n    main_generate_video_content()\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\main.py\", line 85, in main_generate_video_content\r\n    st.session_state[\"video_content\"] = llm_service.generate_content(topic,\r\n                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\services\\llm\\kimi_service.py\", line 28, in generate_content\r\n    description = llm.invoke(prompt_template.format(topic=topic, language=language, length=length))\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\langchain_core\\language_models\\llms.py\", line 276, in invoke\r\n    self.generate_prompt(\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\langchain_core\\language_models\\llms.py\", line 633, in generate_prompt\r\n    return self.generate(prompt_strings, stop=stop, callbacks=callbacks, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\langchain_core\\language_models\\llms.py\", line 803, in generate\r\n    output = self._generate_helper(\r\n             ^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\langchain_core\\language_models\\llms.py\", line 670, in _generate_helper\r\n    raise e\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\langchain_core\\language_models\\llms.py\", line 657, in _generate_helper\r\n    self._generate(\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\langchain_core\\language_models\\llms.py\", line 1317, in _generate\r\n    self._call(prompt, stop=stop, run_manager=run_manager, **kwargs)\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\langchain_community\\llms\\moonshot.py\", line 132, in _call\r\n    text = self._client.completion(request)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\APPgreen\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\langchain_community\\llms\\moonshot.py\", line 29, in completion\r\n    raise ValueError(f\"HTTP {response.status_code} error: {response.text}\")",
    "comments": [
      {
        "user": "ddean2009",
        "body": "大模型受限了：  Your account co8mr9ilnl98te8smgjg\\u003cak-euk56jtfire111any6xi\\u003e request reached max concurrency: 1, please try again after 1 seconds  "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 47,
    "title": "NotADirectoryError: [Errno 20] Not a directory: 'ffmpeg，请教大佬如何解决",
    "author": "seeeyou",
    "state": "closed",
    "created_at": "2024-09-17T01:05:17Z",
    "updated_at": "2024-09-17T01:57:22Z",
    "labels": [],
    "body": "已经安装了ffmpeg，也配置了环境变量，mac环境。执行生成时报错了\r\n`NotADirectoryError: [Errno 20] Not a directory: 'ffmpeg'\r\nTraceback:\r\nFile \"/Users/qyongkang/working/MoneyPrinterPlus/venv/lib/python3.10/site-packages/streamlit/runtime/scriptrunner/script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"/Users/qyongkang/working/MoneyPrinterPlus/venv/lib/python3.10/site-packages/streamlit/runtime/state/safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"/Users/qyongkang/working/MoneyPrinterPlus/venv/lib/python3.10/site-packages/streamlit/runtime/state/session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"/Users/qyongkang/working/MoneyPrinterPlus/venv/lib/python3.10/site-packages/streamlit/runtime/state/session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"/Users/qyongkang/working/MoneyPrinterPlus/venv/lib/python3.10/site-packages/streamlit/runtime/state/session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"/Users/qyongkang/working/MoneyPrinterPlus/pages/01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"/Users/qyongkang/working/MoneyPrinterPlus/main.py\", line 291, in main_generate_ai_video\r\n    main_generate_video_dubbing()\r\nFile \"/Users/qyongkang/working/MoneyPrinterPlus/main.py\", line 177, in main_generate_video_dubbing\r\n    extent_audio(audio_output_file, 2)\r\nFile \"/Users/qyongkang/working/MoneyPrinterPlus/tools/utils.py\", line 162, in extent_audio\r\n    subprocess.run(command, capture_output=True, check=True)\r\nFile \"/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/subprocess.py\", line 501, in run\r\n    with Popen(*popenargs, **kwargs) as process:\r\nFile \"/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/subprocess.py\", line 969, in __init__\r\n    self._execute_child(args, executable, preexec_fn, close_fds,\r\nFile \"/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/subprocess.py\", line 1845, in _execute_child\r\n    raise child_exception_type(errno_num, err_msg, err_filename)`",
    "comments": [
      {
        "user": "seeeyou",
        "body": "果然还是ffmpeg没安装好"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 44,
    "title": "stable diffusion集成还没完成？",
    "author": "Selenium39",
    "state": "closed",
    "created_at": "2024-09-11T13:59:56Z",
    "updated_at": "2024-09-13T01:52:08Z",
    "labels": [],
    "body": null,
    "comments": [
      {
        "user": "ddean2009",
        "body": "还没有， 再等等 "
      },
      {
        "user": "station19",
        "body": "> 还没有， 再等等\r\n\r\n为啥我生成的视频 总是只有30秒左右啊 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 43,
    "title": "CTranslate2 对faster-whisper 的最新模型的兼容问题，是不是应该更新ct2的最新版本？",
    "author": "guiyu",
    "state": "closed",
    "created_at": "2024-09-10T13:04:14Z",
    "updated_at": "2024-09-11T02:52:18Z",
    "labels": [],
    "body": "RuntimeError: Unsupported model binary version. This executable supports models with binary version v6 or below, but the model has binary version v1936876918. This usually means that the model was generated by a later version of CTranslate2. (Forward compatibility is not guaranteed.)\r\n\r\nTraceback:\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 98, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\main.py\", line 293, in main_generate_ai_video\r\n    main_generate_subtitle()\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\main.py\", line 282, in main_generate_subtitle\r\n    generate_caption()\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\services\\captioning\\captioning_service.py\", line 91, in generate_caption\r\n    result_list = fasterwhisper_service.process(get_session_option(\"audio_output_file\"),\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\services\\audio\\faster_whisper_recognition_service.py\", line 74, in process\r\n    model = WhisperModel(convert_module_to_path(self.model_name), device=self.device_type, compute_type=self.compute_type,\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"D:\\workspaces\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\faster_whisper\\transcribe.py\", line 145, in __init__\r\n    self.model = ctranslate2.models.Whisper(\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^",
    "comments": [
      {
        "user": "guiyu",
        "body": "已经解决，原因是clone的时候需要配置lfs 的支持，否则model文件无法正确下载。修正后解决"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 41,
    "title": "是否支持API批量调用呢？",
    "author": "WinPoss",
    "state": "closed",
    "created_at": "2024-09-09T23:42:25Z",
    "updated_at": "2024-09-10T01:21:14Z",
    "labels": [],
    "body": "是否支持API批量调用呢？这样可以方便在Linux服务器部署使用",
    "comments": [
      {
        "user": "ddean2009",
        "body": "可以支持， 等后续更新 "
      },
      {
        "user": "WinPoss",
        "body": "等你！！"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 40,
    "title": "希望LLM大模型视频文案生成器 支持 oneapi 接口",
    "author": "station19",
    "state": "open",
    "created_at": "2024-09-09T08:22:18Z",
    "updated_at": "2024-09-10T01:07:56Z",
    "labels": [],
    "body": "希望LLM大模型视频文案生成器 支持 oneapi 接口 ",
    "comments": [
      {
        "user": "ddean2009",
        "body": "好 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 39,
    "title": "怎样更改ui端口号",
    "author": "qiqi1qiqi",
    "state": "closed",
    "created_at": "2024-09-08T10:10:44Z",
    "updated_at": "2024-09-09T02:37:31Z",
    "labels": [],
    "body": "你好，在那个配置文件里更改端口号。\r\n",
    "comments": [
      {
        "user": "ddean2009",
        "body": "默认的，目前没得改 "
      },
      {
        "user": "qiqi1qiqi",
        "body": "好吧，谢谢\r\n\r\nflydean ***@***.***>于2024年9月9日 周一上午10:06写道：\r\n\r\n> Closed #39 <https://github.com/ddean2009/MoneyPrinterPlus/issues/39> as\r\n> completed.\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/ddean2009/MoneyPrinterPlus/issues/39#event-14175969964>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/BB4FDOAJA4ABOIX2QQVWH3TZVT7DJAVCNFSM6AAAAABN23CJR2VHI2DSMVQWIX3LMV45UABCJFZXG5LFIV3GK3TUJZXXI2LGNFRWC5DJN5XDWMJUGE3TKOJWHE4TMNA>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 38,
    "title": "大家觉得用AI自动生成内容、自动发布、自动运营 公众平台有没有前途？",
    "author": "ZeeMenng",
    "state": "closed",
    "created_at": "2024-09-08T03:29:48Z",
    "updated_at": "2024-09-09T02:05:37Z",
    "labels": [],
    "body": "ChatTTS  功能太单一，而且只能生成30秒左右的语音，MoneyPrinterPlus调用ChatTTS也就会受这个局限了。\r\n\r\nChatTTS_colab在ChatTTS的基础上做了改进，可以生成长语音，但处理速度慢了很多，不知道为什么。MoneyPrinterPlus也没有支持这种二次开发的开源项目。\r\n\r\nGPT-SoVITS 可以用来训练自己想要的音色，MoneyPrinterPlus一样不会支持。\r\n\r\nMoneyPrinterPlus在UI设置的视频片段最短为5秒、最长只有30秒，不知道最长片段为什么要加这个局限？\r\n\r\nMoneyPrinterPlus 这个想法初听很好，根据一个标题就可以自动生成脚本、视频，但我觉得，这个实际价值可能不会太大。我在[《用AI自动运营公众号可不可行》](https://mp.weixin.qq.com/s?__biz=MzkyMDQzOTgwNw==&mid=2247487110&idx=1&sn=9cb3274c55c37b02794c49530e41d79c&chksm=c1939016f6e41900d6a79168df4f18d2d6d00f8b4ea4f989bd1952e4e1cd8f0acfe952d546e4&token=2110140263&lang=zh_CN#rd)这篇文章中有说明：\r\n\r\n`AI生成文章、图片、视频……快捷方便，蹭热点还行，但出不了高质量的、独到的、有价值的内容……想真正吸引粉丝，提升内容本身的含金量才是王道。\r\n`\r\n\r\n大家觉得呢？\r\n\r\n另外，开源项目，都不太稳定，调试起来各种小问题，最终呈现出的产品的整体效果也到不了理想状态。",
    "comments": [
      {
        "user": "ddean2009",
        "body": "写的很好， 但是不要发广告。 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 36,
    "title": "在进行AI生成视频的最后一步时，出现Could not locate cudnn_ops_infer64_8.dll. Please make sure it is in your library path!",
    "author": "Coinsi",
    "state": "closed",
    "created_at": "2024-09-06T03:59:14Z",
    "updated_at": "2024-09-06T04:35:16Z",
    "labels": [],
    "body": "我使用的是，kimi的api配置没有问题，使用的本地的语音模型，语音转文字使用的是本地的fasterwhisper，语音可以合成，到最后生成视频的一步出现\r\n\r\n图片如下：\r\n![image-20240906115453220](https://rainhappyblog.oss-cn-beijing.aliyuncs.com/aurora/articlesimage-20240906115453220.png)\r\n到了这个页面后就不会再动了\r\n然后出现：\r\n![image-20240906115704943](https://rainhappyblog.oss-cn-beijing.aliyuncs.com/aurora/articlesimage-20240906115704943.png)\r\n终端的截图如下：\r\n![image-20240906115624150](https://rainhappyblog.oss-cn-beijing.aliyuncs.com/aurora/articlesimage-20240906115624150.png)\r\n我应该怎么解决这个问题",
    "comments": [
      {
        "user": "ddean2009",
        "body": "在网上下载这个dll，放到系统对应的放置dll的目录里面就行了。 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 31,
    "title": "字幕生成报错",
    "author": "rm7rzedg",
    "state": "closed",
    "created_at": "2024-09-04T05:52:19Z",
    "updated_at": "2024-09-06T04:33:45Z",
    "labels": [],
    "body": "RT\r\n\r\n```\r\nInput #0, mp3, from 'G:\\MoneyPrinterPlus\\work\\0.mp3':\r\n  Metadata:\r\n    encoder         : Lavf60.16.100\r\n  Duration: 00:00:29.52, start: 0.023021, bitrate: 128 kb/s\r\n  Stream #0:0: Audio: mp3 (mp3float), 48000 Hz, stereo, fltp, 128 kb/s\r\n      Metadata:\r\n        encoder         : Lavf\r\nStream mapping:\r\n  Stream #0:0 -> #0:0 (mp3 (mp3float) -> pcm_s16le (native))\r\nPress [q] to stop, [?] for help\r\nOutput #0, wav, to 'G:\\MoneyPrinterPlus\\work\\1725429008785.wav':\r\n  Metadata:\r\n    ISFT            : Lavf61.5.101\r\n  Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s\r\n      Metadata:\r\n        encoder         : Lavc61.11.100 pcm_s16le\r\n[out#0/wav @ 0000011bf7194e80] video:0KiB audio:5530KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: 0.001377%\r\nsize=    5530KiB time=00:00:29.49 bitrate=1536.0kbits/s speed= 906x\r\nExtracted files into G:\\MoneyPrinterPlus\\work\\1725429008785.wav\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: fasterwhisper\r\nG:\\MoneyPrinterPlus\\fasterwhisper\\tiny False\r\n2024-09-04 13:50:49.301 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\shira\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\n  File \"C:\\Users\\shira\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\n  File \"C:\\Users\\shira\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\n  File \"C:\\Users\\shira\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\n  File \"C:\\Users\\shira\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\n  File \"G:\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 75, in generate_video\r\n    main_generate_ai_video(video_generator)\r\n  File \"G:\\MoneyPrinterPlus\\main.py\", line 287, in main_generate_ai_video\r\n    main_generate_subtitle()\r\n  File \"G:\\MoneyPrinterPlus\\main.py\", line 276, in main_generate_subtitle\r\n    generate_caption()\r\n  File \"G:\\MoneyPrinterPlus\\services\\captioning\\captioning_service.py\", line 68, in generate_caption\r\n    result_list = fasterwhisper_service.process(get_session_option(\"audio_output_file\"),\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"G:\\MoneyPrinterPlus\\services\\audio\\faster_whisper_recognition_service.py\", line 51, in process\r\n    model = WhisperModel(convert_module_to_path(self.model_name), device=self.device_type, compute_type=self.compute_type,\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\shira\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\faster_whisper\\transcribe.py\", line 139, in __init__\r\n    model_path = download_model(\r\n                 ^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\shira\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\faster_whisper\\utils.py\", line 78, in download_model\r\n    raise ValueError(\r\nValueError: Invalid model size 'G:\\MoneyPrinterPlus\\fasterwhisper\\tiny', expected one of: tiny.en, tiny, base.en, base, small.en, small, medium.en, medium, large-v1, large-v2, large-v3, large, distil-large-v2, distil-medium.en, distil-small.en, distil-large-v3\r\n```",
    "comments": [
      {
        "user": "ddean2009",
        "body": "fasterwhisper 的模型没有下载好， 看我我的教程：  [fasterWhisper和MoneyPrinterPlus无缝集成](https://mp.weixin.qq.com/s/dSZjpfqUKBz3PyAOYvJKGw)"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 34,
    "title": "为什么一直显示请先生成视频资源文件",
    "author": "aklws",
    "state": "closed",
    "created_at": "2024-09-05T09:09:19Z",
    "updated_at": "2024-09-06T04:31:45Z",
    "labels": [],
    "body": "__syn_core_on_data\r\ncore_on_msg:{\"header\":{\"namespace\":\"SpeechSynthesizer\",\"name\":\"SynthesisCompleted\",\"status\":20000000,\"message_id\":\"931e86ec22cc4725a0b7f84398f43e79\",\"task_id\":\"db69aabd56d94f7ba92e257bf59b374f\",\"status_text\":\"Gateway:SUCCESS:Success.\"}}\r\n__syn_core_on_msg:msg={\"header\":{\"namespace\":\"SpeechSynthesizer\",\"name\":\"SynthesisCompleted\",\"status\":20000000,\"message_id\":\"931e86ec22cc4725a0b7f84398f43e79\",\"task_id\":\"db69aabd56d94f7ba92e257bf59b374f\",\"status_text\":\"Gateway:SUCCESS:Success.\"}} args=()\r\n__handle_message\r\n__synthesis_completed\r\n__synthesis_completed shutdown done\r\non_completed:args=>('',) message=>{\"header\":{\"namespace\":\"SpeechSynthesizer\",\"name\":\"SynthesisCompleted\",\"status\":20000000,\"message_id\":\"931e86ec22cc4725a0b7f84398f43e79\",\"task_id\":\"db69aabd56d94f7ba92e257bf59b374f\",\"status_text\":\"Gateway:SUCCESS:Success.\"}}\r\ncore_on_close\r\nali tts done with result:None\r\n__sr_core_on_close\r\non_close: args=>('',)\r\nws exit...\r\nmain_generate_video_dubbing end\r\nmain_generate_subtitle begin:\r\nselected_audio_provider: Ali\r\nResponse status and response reason:\r\n400 Bad Request\r\nRecognize response is:\r\n{'task_id': '2e4b9b971b3c4205b07a01282f46676c', 'result': '', 'status': 40000010, 'message': 'Gateway:FREE_TRIAL_EXPIRED:The free trial has expired!'}\r\nRecognizer failed!\r\nWarning: 'captions' list is empty.\r\nmain_get_video_resource begin\r\nresource_provider: pixabay\r\nffmpeg -i /mnt/d/work/MoneyPrinterPlus/work/1725527290849.wav\r\n音频时长: 25\r\naudio_length: 25\r\n{'totalHits': 0, 'hits': [], 'total': 0}\r\nNo videos found.\r\n",
    "comments": [
      {
        "user": "misslou",
        "body": "main_get_video_resource begin\r\nresource_provider: pexels\r\nffmpeg -i /Users/loubin/Desktop/MoneyPrinterPlus/work/1725592409072.wav\r\n音频时长: 24\r\naudio_length: 24\r\nError: 403\r\nNo videos found.\r\n\r\n\r\n\r\n生成视频中...\r\n\r\n生成视频配音...\r\n\r\n生成视频字幕...\r\n\r\n获取视频资源...\r\n\r\n视频初始化...\r\n"
      },
      {
        "user": "ddean2009",
        "body": "FREE_TRIAL_EXPIRED:The free trial has expired!'        余额不够了。 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 33,
    "title": "两大问题：1）启动生成字幕就会报错：2）生成的视频与LLM生成的文字无关",
    "author": "michael7908",
    "state": "closed",
    "created_at": "2024-09-04T22:01:20Z",
    "updated_at": "2024-09-05T01:30:57Z",
    "labels": [],
    "body": "第一个错误讯息如下：\r\nIndexError: list index out of range\r\nTraceback:\r\nFile \"C:\\Users\\mikei\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"C:\\Users\\mikei\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"C:\\Users\\mikei\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"C:\\Users\\mikei\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"C:\\Users\\mikei\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"C:\\Users\\mikei\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 75, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"C:\\Users\\mikei\\MoneyPrinterPlus\\main.py\", line 287, in main_generate_ai_video\r\n    main_generate_subtitle()\r\nFile \"C:\\Users\\mikei\\MoneyPrinterPlus\\main.py\", line 276, in main_generate_subtitle\r\n    generate_caption()\r\nFile \"C:\\Users\\mikei\\MoneyPrinterPlus\\services\\captioning\\captioning_service.py\", line 75, in generate_caption\r\n    captioning.finish()\r\nFile \"C:\\Users\\mikei\\MoneyPrinterPlus\\services\\captioning\\common_captioning_service.py\", line 204, in finish\r\n    for caption in self.captions_from_offline_results():\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\Users\\mikei\\MoneyPrinterPlus\\services\\captioning\\common_captioning_service.py\", line 187, in captions_from_offline_results\r\n    last_caption = captions[-1]\r\n                   ~~~~~~~~^^^^\r\n\r\n第二个错误是：生成的视频与LLM生成的文字没有相关性。我要生成一个介绍武汉热干面的视频，结果给我的是一个糖炒栗子的视频。\r\n\r\n",
    "comments": [
      {
        "user": "ddean2009",
        "body": "第一个问题是你语音服务没有配置好， 看下我的教程， 一步步来。   实在不行加我微信 yuanye-1999 日志发给我。 \r\n\r\n第二个问题： 现在资源用的是国外源， 所以可能没有热干面相关的内容。 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 24,
    "title": "视频混剪没问题，就是AI生产视频的时候报错IndexError: list index out of range",
    "author": "xin1718734",
    "state": "closed",
    "created_at": "2024-08-02T07:15:40Z",
    "updated_at": "2024-08-28T01:52:44Z",
    "labels": [],
    "body": "Traceback:\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\pages\\01_auto_video.py\", line 66, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\main.py\", line 268, in main_generate_ai_video\r\n    main_generate_subtitle()\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\main.py\", line 257, in main_generate_subtitle\r\n    generate_caption()\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\services\\captioning\\captioning_service.py\", line 75, in generate_caption\r\n    captioning.finish()\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\services\\captioning\\common_captioning_service.py\", line 204, in finish\r\n    for caption in self.captions_from_offline_results():\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"D:\\AI\\MoneyPrinterPlus-4.2\\services\\captioning\\common_captioning_service.py\", line 187, in captions_from_offline_results\r\n    last_caption = captions[-1]\r\n                   ~~~~~~~~^^^^",
    "comments": [
      {
        "user": "chineseguy233",
        "body": "我也遇到了同样的问题"
      },
      {
        "user": "ddean2009",
        "body": "语音服务没配置好"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 27,
    "title": "大佬，点击环境检测就会出现这个报错，这是啥问题啊",
    "author": "linhhhhhhhhh",
    "state": "closed",
    "created_at": "2024-08-12T16:03:30Z",
    "updated_at": "2024-08-28T01:52:02Z",
    "labels": [],
    "body": "![image](https://github.com/user-attachments/assets/424bc014-d102-4973-ab54-dba3e71277a1)\r\n",
    "comments": [
      {
        "user": "linhhhhhhhhh",
        "body": "解决了，python版本问题"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 28,
    "title": "多字幕功能",
    "author": "sujy-qm",
    "state": "open",
    "created_at": "2024-08-16T06:21:00Z",
    "updated_at": "2024-08-28T01:51:52Z",
    "labels": [],
    "body": "大佬，能不能加个多字幕的功能\r\n例如视频上面一部分是放大标题，下面放视频字幕\r\n这样感觉比较适合那些视频广告投放",
    "comments": [
      {
        "user": "ddean2009",
        "body": "可以考虑"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 29,
    "title": "python早先装的是3.10， 今天更换成 3.12，报错",
    "author": "wobohai",
    "state": "closed",
    "created_at": "2024-08-22T06:44:24Z",
    "updated_at": "2024-08-28T01:51:36Z",
    "labels": [],
    "body": "python早先装的是3.10， 今天更换成 3.12，\r\n\r\n运行的时候，软件提示  3.10 的路径不存在 python.exe\r\n\r\nMoneyPrinterPlus 是在哪里记住了  最早的 3.10 的配置了吗？ 我升级成 python3.12 要怎么修改配置？",
    "comments": [
      {
        "user": "ddean2009",
        "body": "系统PATH里面修改"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 30,
    "title": "发现一个免费软件（磨针图文视频一键发布)，支持20几个平台，一键同步",
    "author": "satanmp",
    "state": "closed",
    "created_at": "2024-08-23T01:34:26Z",
    "updated_at": "2024-08-28T01:51:05Z",
    "labels": [],
    "body": "发现一个免费软件（磨针图文视频一键发布)，支持20几个平台，一键同步",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 6,
    "title": "IndexError: list index out of range",
    "author": "jeffreyrobeson",
    "state": "closed",
    "created_at": "2024-06-25T18:15:57Z",
    "updated_at": "2024-08-19T09:04:13Z",
    "labels": [],
    "body": "Traceback:\r\nFile \"F:\\pinokio\\bin\\miniconda\\lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"F:\\pinokio\\bin\\miniconda\\lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"F:\\pinokio\\bin\\miniconda\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"F:\\pinokio\\bin\\miniconda\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"F:\\pinokio\\bin\\miniconda\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 70, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\main.py\", line 211, in main_generate_ai_video\r\n    main_generate_subtitle()\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\main.py\", line 200, in main_generate_subtitle\r\n    generate_caption()\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\services\\captioning\\captioning_service.py\", line 59, in generate_caption\r\n    captioning.finish()\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\services\\captioning\\azure_captioning_service.py\", line 204, in finish\r\n    for caption in self.captions_from_offline_results():\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\services\\captioning\\azure_captioning_service.py\", line 187, in captions_from_offline_results\r\n    last_caption = captions[-1]",
    "comments": [
      {
        "user": "ddean2009",
        "body": "pip install -r requirement.txt  执行了吗？ "
      },
      {
        "user": "xin1718734",
        "body": "> pip install -r requirement.txt 执行了吗？\r\n\r\n执行了还是报错"
      },
      {
        "user": "zy1455927912",
        "body": "请问这个问题解决了吗？"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 25,
    "title": "混剪错误",
    "author": "scj725",
    "state": "closed",
    "created_at": "2024-08-06T06:32:56Z",
    "updated_at": "2024-08-12T02:49:12Z",
    "labels": [],
    "body": "\r\n[错误日志.txt](https://github.com/user-attachments/files/16506236/default.txt)\r\n![image](https://github.com/user-attachments/assets/c52f7017-8442-4ce8-a0f2-159583586c6a)\r\n大佬这是什么错误啊，求解答，怎么解决",
    "comments": [
      {
        "user": "ddean2009",
        "body": "路径不要用中文 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 21,
    "title": "一点AI生产视频就跳这个，方了。",
    "author": "xin1718734",
    "state": "closed",
    "created_at": "2024-07-30T03:44:08Z",
    "updated_at": "2024-08-05T14:17:31Z",
    "labels": [],
    "body": "FileNotFoundError: Could not find module 'D:\\AI\\MoneyPrinterPlus-4.2\\MoneyPrinterPlus-4.2\\venv\\Lib\\site-packages\\azure\\cognitiveservices\\speech\\Microsoft.CognitiveServices.Speech.core.dll' (or one of its dependencies). Try using the full path with constructor syntax.\r\n一点AI生产视频就跳这个，方了。",
    "comments": [
      {
        "user": "ddean2009",
        "body": "你的微软依赖没装好"
      },
      {
        "user": "xin1718734",
        "body": "> 你的微软依赖没装好\r\n\r\n这个已经解决了，现在是生成视频报错：IndexError: list index out of range"
      },
      {
        "user": "ddean2009",
        "body": "    https://aka.ms/vs/17/release/vc_redist.x64.exe   需要安装适用于你的平台的 [Microsoft Visual C++ Redistributable for Visual Studio 2015、2017、2019 和 2022](https://learn.microsoft.com/zh-cn/cpp/windows/latest-supported-vc-redist?view=msvc-170&preserve-view=true)。"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 22,
    "title": "生成视频的时候报错",
    "author": "0xa-saline",
    "state": "closed",
    "created_at": "2024-07-30T03:57:02Z",
    "updated_at": "2024-08-02T02:29:46Z",
    "labels": [],
    "body": "在生成视频的时候报错，使用的是本地模型。faster_whisper用的是 tiny device 是 auto\r\n```\r\n  File \"/opt/MoneyPrinterPlus/services/captioning/captioning_service.py\", line 68, in generate_caption\r\n    result_list = fasterwhisper_service.process(get_session_option(\"audio_output_file\"),\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/MoneyPrinterPlus/services/audio/faster_whisper_recognition_service.py\", line 51, in process\r\n    model = WhisperModel(convert_module_to_path(self.model_name), device=self.device_type, compute_type=self.compute_type,\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/MoneyPrinterPlus/venv/lib/python3.11/site-packages/faster_whisper/transcribe.py\", line 145, in __init__\r\n    self.model = ctranslate2.models.Whisper(\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nRuntimeError: Unsupported model binary version. This executable supports models with binary version v6 or below, but the model has binary version v1936876918. This usually means that the model was generated by a later version of CTranslate2. (Forward compatibility is not guaranteed.)\r\n```",
    "comments": [
      {
        "user": "ddean2009",
        "body": "faster_whisper的模型下载有问题吧， 从我给的链接下载 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 19,
    "title": "ai生成和视频混剪都报这个错误",
    "author": "scj725",
    "state": "closed",
    "created_at": "2024-07-24T03:40:10Z",
    "updated_at": "2024-07-30T09:51:35Z",
    "labels": [],
    "body": "本地tts、fasterWhisper、ollama\r\n\r\nCalledProcessError: Command '['ffmpeg', '-i', 'E:\\\\pyCharmProject\\\\MoneyPrinterPlus\\\\work\\\\1721792310586.wav', '-af', 'apad=pad_dur=2', 'E:\\\\pyCharmProject\\\\MoneyPrinterPlus\\\\work\\\\1721792310586.temp.wav']' returned non-zero exit status 4294967294.\r\nTraceback:\r\nFile \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"E:\\pyCharmProject\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 66, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"E:\\pyCharmProject\\MoneyPrinterPlus\\main.py\", line 266, in main_generate_ai_video\r\n    main_generate_video_dubbing()\r\nFile \"E:\\pyCharmProject\\MoneyPrinterPlus\\main.py\", line 157, in main_generate_video_dubbing\r\n    extent_audio(audio_output_file, 2)\r\nFile \"E:\\pyCharmProject\\MoneyPrinterPlus\\tools\\utils.py\", line 138, in extent_audio\r\n    subprocess.run(command, capture_output=True, check=True)\r\nFile \"D:\\python\\Lib\\subprocess.py\", line 571, in run\r\n    raise CalledProcessError(retcode, process.args,",
    "comments": [
      {
        "user": "yuu2001",
        "body": "> 本地tts、fasterWhisper、ollama\r\n> \r\n> CalledProcessError: Command '['ffmpeg', '-i', 'E:\\pyCharmProject\\MoneyPrinterPlus\\work\\1721792310586.wav', '-af', 'apad=pad_dur=2', 'E:\\pyCharmProject\\MoneyPrinterPlus\\work\\1721792310586.temp.wav']' returned non-zero exit status 4294967294. Traceback: File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script self._session_state.on_script_will_rerun( File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun self._state.on_script_will_rerun(latest_widget_states) File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun self._call_callbacks() File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks self._new_widget_state.call_callback(wid) File \"D:\\python\\Lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback callback(*args, **kwargs) File \"E:\\pyCharmProject\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 66, in generate_video main_generate_ai_video(video_generator) File \"E:\\pyCharmProject\\MoneyPrinterPlus\\main.py\", line 266, in main_generate_ai_video main_generate_video_dubbing() File \"E:\\pyCharmProject\\MoneyPrinterPlus\\main.py\", line 157, in main_generate_video_dubbing extent_audio(audio_output_file, 2) File \"E:\\pyCharmProject\\MoneyPrinterPlus\\tools\\utils.py\", line 138, in extent_audio subprocess.run(command, capture_output=True, check=True) File \"D:\\python\\Lib\\subprocess.py\", line 571, in run raise CalledProcessError(retcode, process.args,\r\n\r\n\r\n解决了，把语音识别的key配置好就可以了\r\n\r\n"
      },
      {
        "user": "ddean2009",
        "body": "优秀啊 ！"
      },
      {
        "user": "scj725",
        "body": "为什么有了fasterWhisper这个，还需要配置语音识别服务啊，大佬能解答一下吗"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 18,
    "title": "安装失败",
    "author": "jadestoner",
    "state": "closed",
    "created_at": "2024-07-23T06:16:09Z",
    "updated_at": "2024-07-30T08:50:01Z",
    "labels": [],
    "body": "/MoneyPrinterPlus$ pip3 install langchain-openai\r\n\r\nERROR: Could not find a version that satisfies the requirement langchain-openai (from versions: none)\r\nERROR: No matching distribution found for langchain-openai\r\n\r\n\r\n直接依赖找不到",
    "comments": [
      {
        "user": "ddean2009",
        "body": "pip  install  langchain_openai==0.1.1  试试， 你是什么系统 ？ "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 14,
    "title": "是否可以支持最新的本地语音识别和本地文本转语音",
    "author": "AndrewChenVIP",
    "state": "closed",
    "created_at": "2024-07-12T17:25:40Z",
    "updated_at": "2024-07-24T02:30:37Z",
    "labels": [],
    "body": "本地语音识别开源项目：OpenAI开源的Whisper和最近阿里开源的SenseVoice。\r\n本地文本转语音开源项目：B站大佬开源的ChatTTS和最近阿里开源的CosyVoice。\r\n这几个项目出来结果的质量都挺高的，也有相应的API，刘悦大佬甚至还做好了整合包：https://www.bilibili.com/video/BV1wz421B7UE。\r\n大佬是否可以考虑支持一下？",
    "comments": [
      {
        "user": "ddean2009",
        "body": "ChatTTS 已经支持了。 \r\nWhisper 下一步支持。"
      },
      {
        "user": "ddean2009",
        "body": "fasterWhisper已经上线了。 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 16,
    "title": "视频自动发布报错",
    "author": "mky3",
    "state": "closed",
    "created_at": "2024-07-19T03:09:18Z",
    "updated_at": "2024-07-24T02:29:34Z",
    "labels": [],
    "body": "2024-07-19 10:45:07.531 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"D:\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 600, in _run_script\r\n    exec(code, module.__dict__)\r\n  File \"D:\\MoneyPrinterPlus\\pages\\03_auto_publish.py\", line 222, in <module>\r\n    video_list = get_file_map_from_dir(st.session_state[\"video_publish_content_dir\"], \".mp4\")\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\MoneyPrinterPlus\\tools\\utils.py\", line 71, in get_file_map_from_dir\r\n    file_dir = os.path.abspath(file_dir)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"<frozen ntpath>\", line 580, in abspath\r\n  File \"<frozen ntpath>\", line 547, in normpath\r\nTypeError: expected str, bytes or os.PathLike object, not NoneType\r\n2024-07-19 10:48:06.893 Uncaught app exception\r\nTraceback (most recent call last):\r\n  File \"D:\\MoneyPrinterPlus\\venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 600, in _run_script\r\n    exec(code, module.__dict__)\r\n  File \"D:\\MoneyPrinterPlus\\pages\\03_auto_publish.py\", line 222, in <module>\r\n    video_list = get_file_map_from_dir(st.session_state[\"video_publish_content_dir\"], \".mp4\")\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\MoneyPrinterPlus\\tools\\utils.py\", line 71, in get_file_map_from_dir\r\n    file_dir = os.path.abspath(file_dir)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"<frozen ntpath>\", line 580, in abspath\r\n  File \"<frozen ntpath>\", line 547, in normpath\r\nTypeError: expected str, bytes or os.PathLike object, not NoneType",
    "comments": [
      {
        "user": "ddean2009",
        "body": "看我的教程。  你这个是视频发布目录没有设置"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 17,
    "title": "如果能直接docker就好了",
    "author": "mengguiyouziyi",
    "state": "open",
    "created_at": "2024-07-22T10:44:25Z",
    "updated_at": "2024-07-24T02:28:39Z",
    "labels": [],
    "body": null,
    "comments": [
      {
        "user": "ddean2009",
        "body": "可以考虑"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 1,
    "title": "这个项目啥时候上线呀大佬们",
    "author": "cbgytech",
    "state": "closed",
    "created_at": "2024-05-11T05:04:55Z",
    "updated_at": "2024-07-20T05:26:44Z",
    "labels": [],
    "body": null,
    "comments": [
      {
        "user": "ddean2009",
        "body": "快了，等我整理一下"
      },
      {
        "user": "ddean2009",
        "body": "今天上线  "
      },
      {
        "user": "cbgytech",
        "body": "> 今天上线\r\n\r\n收到！"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 11,
    "title": "生成视频或试听声音报错",
    "author": "finddream2023",
    "state": "closed",
    "created_at": "2024-07-04T09:24:22Z",
    "updated_at": "2024-07-18T08:45:29Z",
    "labels": [],
    "body": "生成视频或试听声音报错，已试过多次仍然报错：\r\n\r\nCalledProcessError: Command '['ffmpeg', '-i', 'E:\\\\Documents\\\\pythonProject\\\\MoneyPrinterPlus-main\\\\work\\\\1720084872439.wav', '-af', 'apad=pad_dur=2', 'E:\\\\Documents\\\\pythonProject\\\\MoneyPrinterPlus-main\\\\work\\\\1720084872439.temp.wav']' returned non-zero exit status 3199971767.\r\nTraceback:\r\nFile \"C:\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"C:\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"C:\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"C:\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"C:\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"E:\\Documents\\pythonProject\\MoneyPrinterPlus-main\\pages\\01_auto_video.py\", line 70, in generate_video\r\n    main_generate_ai_video(video_generator)\r\nFile \"E:\\Documents\\pythonProject\\MoneyPrinterPlus-main\\main.py\", line 242, in main_generate_ai_video\r\n    main_generate_video_dubbing()\r\nFile \"E:\\Documents\\pythonProject\\MoneyPrinterPlus-main\\main.py\", line 139, in main_generate_video_dubbing\r\n    extent_audio(audio_output_file, 2)\r\nFile \"E:\\Documents\\pythonProject\\MoneyPrinterPlus-main\\tools\\utils.py\", line 137, in extent_audio\r\n    subprocess.run(command, capture_output=True, check=True)\r\nFile \"C:\\Python\\Python310\\lib\\subprocess.py\", line 526, in run\r\n    raise CalledProcessError(retcode, process.args,\r\n![报错](https://github.com/ddean2009/MoneyPrinterPlus/assets/147569722/cd2cdba9-44df-45c7-bd94-71db6dcbabf2)\r\n\r\n\r\nffmpeg是在官网下载的“ffmpeg-2024-06-30-git-b818dff8d8-full_build”版本，已添加环境变量：\r\n![cmd-ffmpeg](https://github.com/ddean2009/MoneyPrinterPlus/assets/147569722/c068684f-0269-4335-a105-603ca65dbd46)\r\n\r\n\r\n",
    "comments": [
      {
        "user": "ddean2009",
        "body": "完整日志发一下 "
      },
      {
        "user": "finddream2023",
        "body": "> 完整日志发一下\r\n\r\n页面就显示这么多内容，已经复制和截图上去了，还可以去哪里找完整日志？另外那个加群二维码扫不进去，说超过200人要使用邀请呢"
      },
      {
        "user": "ddean2009",
        "body": "完整日志在命令行里面找找 ， 你这个问题不是页面上展示的问题。 应该是之前有一步报错了。 我更新一个新的二维码。稍等。 "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 12,
    "title": "Linux安装报错",
    "author": "Absolute-2ero",
    "state": "closed",
    "created_at": "2024-07-06T02:55:59Z",
    "updated_at": "2024-07-08T06:49:15Z",
    "labels": [],
    "body": "![image](https://github.com/ddean2009/MoneyPrinterPlus/assets/85445204/a7162f56-0513-451c-8a98-3435106737ac)\r\n请问这个报错是怎么回事呢？\r\n将pwd改为小写之后在114行又报错：\r\n![image](https://github.com/ddean2009/MoneyPrinterPlus/assets/85445204/1cc15661-7c91-4713-bf79-d941d978cb73)\r\n",
    "comments": [
      {
        "user": "ddean2009",
        "body": "bash setup.sh "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 13,
    "title": "报错，折腾好久还是不行",
    "author": "city10666",
    "state": "closed",
    "created_at": "2024-07-07T16:15:42Z",
    "updated_at": "2024-07-07T16:30:32Z",
    "labels": [],
    "body": "就想先试听下语音，结果就报错\r\nPermissionError: [Errno 13] Permission denied: 'C:\\\\Users\\\\admin\\\\AppData\\\\Local\\\\Temp\\\\tmp5qiqxtj5.wav'\r\nTraceback:\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 575, in _run_script\r\n    self._session_state.on_script_will_rerun(\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\safe_session_state.py\", line 65, in on_script_will_rerun\r\n    self._state.on_script_will_rerun(latest_widget_states)\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 517, in on_script_will_rerun\r\n    self._call_callbacks()\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 530, in _call_callbacks\r\n    self._new_widget_state.call_callback(wid)\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\streamlit\\runtime\\state\\session_state.py\", line 274, in call_callback\r\n    callback(*args, **kwargs)\r\nFile \"D:\\MoneyPrinterPlus-2.1\\pages\\02_mix_video.py\", line 22, in try_test_audio\r\n    main_try_test_audio()\r\nFile \"D:\\MoneyPrinterPlus-2.1\\main.py\", line 115, in main_try_test_audio\r\n    audio_service.read_with_ssml(video_content,\r\nFile \"D:\\MoneyPrinterPlus-2.1\\services\\audio\\alitts_service.py\", line 86, in read_with_ssml\r\n    play(audio)\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydub\\playback.py\", line 71, in play\r\n    _play_with_ffplay(audio_segment)\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydub\\playback.py\", line 15, in _play_with_ffplay\r\n    seg.export(f.name, \"wav\")\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydub\\audio_segment.py\", line 867, in export\r\n    out_f, _ = _fd_or_path_or_tempfile(out_f, 'wb+')\r\nFile \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pydub\\utils.py\", line 60, in _fd_or_path_or_tempfile\r\n    fd = open(fd, mode=mode)",
    "comments": [],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 10,
    "title": "视频批量自动发布到各个视频平台",
    "author": "joseph16388",
    "state": "closed",
    "created_at": "2024-07-03T05:56:46Z",
    "updated_at": "2024-07-04T16:17:06Z",
    "labels": [],
    "body": "作者你好，这个有计划和时间点安排吗？3Q",
    "comments": [
      {
        "user": "ddean2009",
        "body": "快了"
      },
      {
        "user": "joseph16388",
        "body": "> 快了\r\n\r\n牛X！"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 9,
    "title": "请问自动上传平台的功能还需要多久啊？",
    "author": "seetimee",
    "state": "closed",
    "created_at": "2024-06-30T06:06:54Z",
    "updated_at": "2024-07-02T02:27:26Z",
    "labels": [],
    "body": null,
    "comments": [
      {
        "user": "ddean2009",
        "body": "快了  "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 7,
    "title": "Do this support autto upload to youtube?",
    "author": "enterprisium",
    "state": "open",
    "created_at": "2024-06-27T13:37:10Z",
    "updated_at": "2024-07-01T08:55:41Z",
    "labels": [],
    "body": "YT auto upload?\r\nCorn Jobs? ",
    "comments": [
      {
        "user": "ddean2009",
        "body": "do you want it ?  I will consider about it . "
      },
      {
        "user": "asonsgh",
        "body": "i would love to possible then add tiktok and insta as well :D haha \r\nBTW i want you to also consider ai comic fectory thats awesome!  \r\n\r\nwait... no hindi ???? are you sersious? hindi tts voice are not add in your projects?\r\n"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 8,
    "title": "两个项目怎么都差不多",
    "author": "code-innovator-zyx",
    "state": "closed",
    "created_at": "2024-06-28T07:11:10Z",
    "updated_at": "2024-06-28T07:50:45Z",
    "labels": [],
    "body": "和  https://github.com/harry0703/MoneyPrinterTurbo  这个项目咋这么像",
    "comments": [
      {
        "user": "ddean2009",
        "body": "功能不一样， 这个功能强大太多了。  支持国产语音服务。 支持转场动画。支持特效。 支持批量视频混剪。 "
      },
      {
        "user": "ddean2009",
        "body": "谁用谁知道。"
      },
      {
        "user": "code-innovator-zyx",
        "body": "> 谁用谁知道。\r\n\r\n效果应该都是一样的，视频和文案牛头不对马嘴"
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 5,
    "title": "No module named 'langchain_community.llms.moonshot'",
    "author": "jeffreyrobeson",
    "state": "closed",
    "created_at": "2024-06-25T17:22:31Z",
    "updated_at": "2024-06-26T09:12:26Z",
    "labels": [],
    "body": "Traceback (most recent call last):\r\n  File \"F:\\pinokio\\bin\\miniconda\\lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 600, in _run_script\r\n    exec(code, module.__dict__)\r\n  File \"F:\\aigc\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 5, in <module>\r\n    from main import main_generate_video_content, main_generate_ai_video, main_generate_video_dubbing, \\\r\n  File \"F:\\aigc\\MoneyPrinterPlus\\main.py\", line 11, in <module>\r\n    from services.llm.baichuan_service import MyBaichuanService\r\n  File \"F:\\aigc\\MoneyPrinterPlus\\services\\llm\\baichuan_service.py\", line 8, in <module>\r\n    from langchain_community.llms.moonshot import Moonshot\r\nModuleNotFoundError: No module named 'langchain_community.llms.moonshot'",
    "comments": [
      {
        "user": "ddean2009",
        "body": "pip install -r requirement.txt  执行了吗？ "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  },
  {
    "issue_number": 4,
    "title": "No module named 'aliyunsdkcore'",
    "author": "jeffreyrobeson",
    "state": "closed",
    "created_at": "2024-06-25T15:23:09Z",
    "updated_at": "2024-06-26T09:12:14Z",
    "labels": [],
    "body": "(base) F:\\aigc\\MoneyPrinterPlus>pip install aliyunsdkcore\r\nLooking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple, https://pypi.ngc.nvidia.com\r\nCollecting aliyunsdkcore\r\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/36/80/4fd3153ce15ec7edae283fa937ee1adc0855f980ce248611b2e009d343df/aliyunsdkcore-1.0.3.tar.gz (23 kB)\r\n  Preparing metadata (setup.py) ... done\r\nCollecting pycrypto>=2.6.1 (from aliyunsdkcore)\r\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/60/db/645aa9af249f059cc3a368b118de33889219e0362141e75d4eaf6f80f163/pycrypto-2.6.1.tar.gz (446 kB)\r\n     ---------------------------------------- 446.2/446.2 kB 65.0 kB/s eta 0:00:00\r\n  Preparing metadata (setup.py) ... done\r\nBuilding wheels for collected packages: aliyunsdkcore, pycrypto\r\n  Building wheel for aliyunsdkcore (setup.py) ... done\r\n  Created wheel for aliyunsdkcore: filename=aliyunsdkcore-1.0.3-py2.py3-none-any.whl size=36164 sha256=3d2b9dbeabfd1cb55a8d8500fc6f9ac9a887aded5c50d699e53938ffa9f27298\r\n  Stored in directory: C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-ephem-wheel-cache-7hlchnnh\\wheels\\41\\b7\\32\\2aad5acf83a17fd9616ec3f2c0732fd638c45f6c44fe479791\r\n  Building wheel for pycrypto (setup.py) ... error\r\n  error: subprocess-exited-with-error\r\n\r\n  × python setup.py bdist_wheel did not run successfully.\r\n  │ exit code: 1\r\n  ╰─> [28 lines of output]\r\n      warning: GMP or MPIR library not found; Not building Crypto.PublicKey._fastmath.\r\n      winrand.c\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(31): error C2061: 语法错误: 标识符“intmax_t”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(32): error C2061: 语法错误: 标识符“rem”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(32): error C2059: 语法错误:“;”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(33): error C2059: 语法错误:“}”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(35): error C2061: 语法错误: 标识符“imaxdiv_t”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(35): error C2059: 语法错误:“;”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(45): error C2143: 语法错误: 缺少“{”(在“__cdecl”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(46): error C2146: 语法错误: 缺少“)”(在标识符“_Number”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(46): error C2061: 语法错误: 标识符“_Number”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(46): error C2059: 语法错误:“;”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(47): error C2059: 语法错误:“)”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(50): error C2143: 语法错误: 缺少“{”(在“__cdecl”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(51): error C2146: 语法错误: 缺少“)”(在标识符“_Numerator”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(51): error C2061: 语法错误: 标识符“_Numerator”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(51): error C2059: 语法错误:“;”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(51): error C2059: 语法错误:“,”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(53): error C2059: 语法错误:“)”\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(55): error C2143: 语法错误: 缺少“{”(在“__cdecl”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(61): error C2143: 语法错误: 缺少“{”(在“__cdecl”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(68): error C2143: 语法错误: 缺少“{”(在“__cdecl”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(74): error C2143: 语法错误: 缺少“{”(在“__cdecl”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(81): error C2143: 语法错误: 缺少“{”(在“__cdecl”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(87): error C2143: 语法错误: 缺少“{”(在“__cdecl”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(94): error C2143: 语法错误: 缺少“{”(在“__cdecl”的前面)\r\n      C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\\inttypes.h(100): error C2143: 语法错误: 缺少“{”(在“__cdecl”的前面)\r\n      error: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2019\\\\BuildTools\\\\VC\\\\Tools\\\\MSVC\\\\14.29.30133\\\\bin\\\\HostX86\\\\x64\\\\cl.exe' failed with exit code 2\r\n      [end of output]\r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  ERROR: Failed building wheel for pycrypto\r\n  Running setup.py clean for pycrypto\r\nSuccessfully built aliyunsdkcore\r\nFailed to build pycrypto\r\nERROR: Could not build wheels for pycrypto, which is required to install pyproject.toml-based projects\r\n\r\n这个问题如何解决？",
    "comments": [
      {
        "user": "jeffreyrobeson",
        "body": "ModuleNotFoundError: No module named 'aliyunsdkcore'\r\nTraceback:\r\nFile \"C:\\Program Files\\Python311\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py\", line 535, in _run_script\r\n    exec(code, module.__dict__)\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\pages\\01_auto_video.py\", line 5, in <module>\r\n    from main import main_generate_video_content, main_generate_ai_video, main_generate_video_dubbing, \\\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\main.py\", line 6, in <module>\r\n    from services.audio.alitts_service import AliAudioService\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\services\\audio\\alitts_service.py\", line 7, in <module>\r\n    from services.alinls.speech_synthesizer import NlsSpeechSynthesizer\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\services\\alinls\\speech_synthesizer.py\", line 9, in <module>\r\n    from .core import NlsCore\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\services\\alinls\\core.py\", line 9, in <module>\r\n    from . import logging, token, websocket\r\nFile \"F:\\aigc\\MoneyPrinterPlus\\services\\alinls\\token.py\", line 3, in <module>\r\n    from aliyunsdkcore.client import AcsClient"
      },
      {
        "user": "ddean2009",
        "body": "pip install -r requirement.txt  执行了吗？ "
      }
    ],
    "repository": "ddean2009/MoneyPrinterPlus"
  }
]